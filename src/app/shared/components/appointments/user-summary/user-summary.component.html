<div class="user-information">
  <div class="header-content">
    <button class="edit" (click)="editOrCancelUser()">
      @if (isEditing) {
      <img src="/assets/icon/remove.svg" alt="edition" class="edit-or-cancel-img">
      }@else {
      <img src="/assets/icon/edit-pencil.svg" alt="edition" class="edit-or-cancel-img">
      }
    </button>
  </div>
  <div class="form-group">
    <form [formGroup]="userInfoForm">
      <div class="left">
        <div class="id">
          <label for="id">Cédula:</label>
          <input type="text" id="id" placeholder="Cédula de identidad" formControlName="identification"
            [class]="{ 'editing': isEditing }" />
        </div>
        <div class="email">
          <label for="email">Correo:</label>
          <input type="email" id="email" placeholder="Correo electrónico" formControlName="email"
            [class]="{ 'editing': isEditing }" />
        </div>
      </div>
      <div class="right">
        <div class="name">
          <label for="name">Nombre:</label>
          <input type="text" id="name" placeholder="Nombre" [class]="{ 'editing': isEditing }" formControlName="name"
            name="name" />

        </div>
        <div class="phone">
          <label for="phone">Telefono:</label>
          <input type="text" id="phone" placeholder="Telefono" [class]="{ 'editing': isEditing }"
            formControlName="phoneNumber" name="phoneNumber" />
        </div>
      </div>
    </form>
  </div>

  <div class="location-container">
    <h3>Ubicación</h3>
    <div class="map-container">
      <div>
        <p-blockUI [target]="pnl" [blocked]="!isEditing" styleClass="overlay">
          <i class="pi pi-lock" style="font-size: 1.5rem"></i>
        </p-blockUI>
        <p-panel #pnl [showHeader]="false" styleClass="map-panel">
          <div class="map">
            <app-map (formattedAddressChange)="onAddressChange($event)"
              (userLocationChange)="onLocationChange($event)"></app-map>
          </div>
        </p-panel>
      </div>
      @if (tempUser.address) {
      <div class="map-coordinates">
        <img src="/assets/icon/maps_icon.svg" alt="Maps Icon" width="40px" height="40px">
        <p class="coordinates-text">{{ tempUser.address }}</p>
      </div>
      }
    </div>
  </div>
  <div class="actions step-1">
    <button class="next" (click)="nextStep()" [disabled]="!tempUser">Siguiente</button>
  </div>
</div>
"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[31],{2375:(E,h,n)=>{n.r(h),n.d(h,{EditUserComponent:()=>x});var a=n(467),t=n(9417),_=n(9572),f=n(9132),m=n(1517),e=n(4438),l=n(2185),s=n(5889),d=n(7927),c=n(4441),g=n(5779);const M=()=>({width:"19rem",border:"1px solid var(--light-gray)","border-radius":"1.5rem",height:"2.8rem",display:"flex","align-items":"center"});function v(u,C){if(1&u){const o=e.RV6();e.j41(0,"button",11),e.bIt("click",function(){e.eBV(o);const r=e.XpG(2);return e.Njj(r.onEditModeChanged(!r.inputsEditable))}),e.nrm(1,"img",12),e.j41(2,"span",13),e.EFF(3,"Editar datos"),e.k0s()()}}function P(u,C){if(1&u&&(e.j41(0,"div",16)(1,"div",17),e.EFF(2),e.k0s()()),2&u){const o=C.$implicit;e.R7$(2),e.JRh(o.label)}}function O(u,C){if(1&u){const o=e.RV6();e.j41(0,"p-dropdown",14),e.mxI("ngModelChange",function(r){e.eBV(o);const p=e.XpG(2);return e.DH7(p.selectedRole,r)||(p.selectedRole=r),e.Njj(r)}),e.DNE(1,P,3,1,"ng-template",15),e.k0s()}if(2&u){const o=e.XpG(2);e.Aen(e.lJ4(6,M)),e.Y8G("options",o.roles),e.R50("ngModel",o.selectedRole),e.Y8G("checkmark",!0)("showClear",!0)}}function D(u,C){if(1&u){const o=e.RV6();e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e.nrm(4,"img",4),e.k0s(),e.j41(5,"div",5)(6,"h3",6),e.EFF(7),e.k0s(),e.j41(8,"h4",6),e.EFF(9),e.k0s()()(),e.j41(10,"div",7),e.DNE(11,v,4,0,"button",8)(12,O,2,7,"p-dropdown",9),e.k0s()(),e.j41(13,"app-user-info-form",10),e.bIt("userInfo",function(r){e.eBV(o);const p=e.XpG();return e.Njj(p.onUserInfoUpdate(r))})("editModeChanged",function(r){e.eBV(o);const p=e.XpG();return e.Njj(p.onEditModeChanged(r))}),e.k0s()()}if(2&u){const o=e.XpG();e.R7$(4),e.FS9("src",(null==o.user?null:o.user.photoURL)||"/assets/icon/user_icon.svg",e.B4B),e.R7$(3),e.Lme("",null==o.user?null:o.user.name," ",null==o.user?null:o.user.lastname,""),e.R7$(2),e.JRh(null==o.user?null:o.user.email),e.R7$(2),e.vxM(11,o.inputsEditable?-1:11),e.R7$(),e.vxM(12,o.inputsEditable&&o.currentUser&&"admin"===o.currentUser.role?12:-1),e.R7$(),e.Y8G("isEditable",o.inputsEditable)("userRole",o.selectedRole.value)}}function U(u,C){1&u&&e.nrm(0,"app-spinner")}let x=(()=>{var u;class C{constructor(i,r,p,A){this.route=i,this._toastService=r,this._userService=p,this.authService=A,this.inputsEditable=!1,this.isLoaded=!1,this.id="",this.user={},this.currentUser={},this.roles=[{label:"Paciente",value:"user"},{label:"Enfermero",value:"admin"}],this.selectedRole={},this.id=this.route.snapshot.params.id}ngOnInit(){this.authService.getCurrentUser().then(i=>{this.currentUser=i}),this.getUser(this.id).then(i=>{this.user=i,this.selectedRole={label:"user"===i.role?"Paciente":"Enfermero",value:i.role}})}ngOnDestroy(){this.isLoaded=!1}getUser(i=""){var r=this;return(0,a.A)(function*(){r.isLoaded=!1;const p=yield r._userService.getUserById(i);if(p.success)return r.isLoaded=!0,p.data;r.isLoaded=!0})()}onEditModeChanged(i){this.inputsEditable=i}onUserInfoUpdate(i){this.id&&this._userService.updateUserDB(i,this.id).then(r=>{r.error&&this._toastService.showError("Error al actulaizar la informaci\xf3n"),this._toastService.showSuccess("Datos actualizados correctamente"),this.inputsEditable=!this.inputsEditable})}}return(u=C).\u0275fac=function(i){return new(i||u)(e.rXU(l.nX),e.rXU(s.f),e.rXU(d.D),e.rXU(c.u))},u.\u0275cmp=e.VBU({type:u,selectors:[["app-edit-user"]],standalone:!0,features:[e.aNF],decls:2,vars:1,consts:[[1,"flex-container"],[1,"container-header"],[1,"profile-data"],[1,"profile-picture"],["alt","Profile Photo",3,"src"],[1,"user-data"],[1,"text-gray"],[1,"actions"],[1,"edit-btn"],["optionLabel","label","placeholder","Seleccione un rol de usuario",1,"role-dropdown",3,"options","ngModel","checkmark","showClear","style"],[3,"userInfo","editModeChanged","isEditable","userRole"],[1,"edit-btn",3,"click"],["src","/assets/icon/pencil.svg","alt","edit"],[1,"edit-tooltip-text"],["optionLabel","label","placeholder","Seleccione un rol de usuario",1,"role-dropdown",3,"ngModelChange","options","ngModel","checkmark","showClear"],["pTemplate","selectedItem"],[1,"role-option"],[1,"role-name"]],template:function(i,r){1&i&&e.DNE(0,D,14,8,"div",0)(1,U,1,0),2&i&&e.vxM(0,r.isLoaded?0:1)},dependencies:[f.l,m.t,t.YN,t.BC,t.vS,_.kr,_.ms,g.Ei],styles:[".flex-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:2rem}.container-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:3rem;margin-top:4rem}.profile-data[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;gap:1rem}.profile-data[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50px;object-fit:cover}.text-gray[_ngcontent-%COMP%]{color:var(--dark-gray)}.actions[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center}.actions[_ngcontent-%COMP%]   .edit-btn[_ngcontent-%COMP%]{display:flex;justify-content:center;position:relative;background-color:#fff;padding:.25rem;box-shadow:0 4px 12px #0d0a2c0f;border:solid 1px #e6e6e9;border-radius:4px;margin:1rem;flex:1}.actions[_ngcontent-%COMP%]   .edit-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:1.25rem;height:1.25rem}.edit-tooltip-text[_ngcontent-%COMP%]{visibility:hidden;position:absolute;background-color:#333;color:#fff;padding:5px;margin:2rem;border-radius:6px;z-index:1;width:max-content}.actions[_ngcontent-%COMP%]   .edit-btn[_ngcontent-%COMP%]:hover   .edit-tooltip-text[_ngcontent-%COMP%]{visibility:visible}[_nghost-%COMP%]     .role-dropdown.p-element .p-dropdown-item{display:flex;gap:.5rem;align-items:center}@media screen and (max-width: 1150px){.flex-container[_ngcontent-%COMP%]{gap:1rem;overflow-y:auto;height:calc(100vh - 8rem)}.profile-data[_ngcontent-%COMP%]{margin:unset}.profile-data[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:50px;max-height:50px}.container-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;margin-top:2rem}}@media screen and (max-width: 749px){.container-header[_ngcontent-%COMP%]{margin-top:15rem}}"]}),C})()},1880:(E,h,n)=>{n.d(h,{q:()=>m,u:()=>e});var a=n(9842),t=n(177),_=n(4438),f=n(1455);let m=(()=>{var l;class s{constructor(){(0,a.A)(this,"autofocus",!1),(0,a.A)(this,"focused",!1),(0,a.A)(this,"platformId",(0,_.WQX)(_.Agw)),(0,a.A)(this,"document",(0,_.WQX)(t.qQ)),(0,a.A)(this,"host",(0,_.WQX)(_.aKT))}ngAfterContentChecked(){!1===this.autofocus?this.host.nativeElement.removeAttribute("autofocus"):this.host.nativeElement.setAttribute("autofocus",!0),this.focused||this.autoFocus()}ngAfterViewChecked(){this.focused||this.autoFocus()}autoFocus(){(0,t.UE)(this.platformId)&&this.autofocus&&setTimeout(()=>{var c;const g=f.D.getFocusableElements(null===(c=this.host)||void 0===c?void 0:c.nativeElement);0===g.length&&this.host.nativeElement.focus(),g.length>0&&g[0].focus(),this.focused=!0})}}return l=s,(0,a.A)(s,"\u0275fac",function(c){return new(c||l)}),(0,a.A)(s,"\u0275dir",_.FsC({type:l,selectors:[["","pAutoFocus",""]],hostAttrs:[1,"p-element"],inputs:{autofocus:[_.Mj6.HasDecoratorInputTransform,"autofocus","autofocus",_.L39]},standalone:!0,features:[_.GFd]})),s})(),e=(()=>{var l;class s{}return l=s,(0,a.A)(s,"\u0275fac",function(c){return new(c||l)}),(0,a.A)(s,"\u0275mod",_.$C({type:l})),(0,a.A)(s,"\u0275inj",_.G2t({})),s})()},8757:(E,h,n)=>{n.d(h,{N:()=>m});var a=n(9842),t=n(4438),_=n(461),f=n(4420);let m=(()=>{var e;class l extends _.h{constructor(...d){super(...d),(0,a.A)(this,"pathId",void 0)}ngOnInit(){this.pathId="url(#"+(0,f._Y)()+")"}}return e=l,(0,a.A)(l,"\u0275fac",(()=>{let s;return function(c){return(s||(s=t.xGo(e)))(c||e)}})()),(0,a.A)(l,"\u0275cmp",t.VBU({type:e,selectors:[["SpinnerIcon"]],standalone:!0,features:[t.Vt3,t.aNF],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(d,c){1&d&&(t.qSk(),t.j41(0,"svg",0)(1,"g"),t.nrm(2,"path",1),t.k0s(),t.j41(3,"defs")(4,"clipPath",2),t.nrm(5,"rect",3),t.k0s()()()),2&d&&(t.HbH(c.getClassNames()),t.BMQ("aria-label",c.ariaLabel)("aria-hidden",c.ariaHidden)("role",c.role),t.R7$(),t.BMQ("clip-path",c.pathId),t.R7$(3),t.Y8G("id",c.pathId))},encapsulation:2})),l})()},1512:(E,h,n)=>{n.d(h,{A:()=>f});var a=n(9842),t=n(4438),_=n(461);let f=(()=>{var m;class e extends _.h{}return m=e,(0,a.A)(e,"\u0275fac",(()=>{let l;return function(d){return(l||(l=t.xGo(m)))(d||m)}})()),(0,a.A)(e,"\u0275cmp",t.VBU({type:m,selectors:[["TimesIcon"]],standalone:!0,features:[t.Vt3,t.aNF],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z","fill","currentColor"]],template:function(s,d){1&s&&(t.qSk(),t.j41(0,"svg",0),t.nrm(1,"path",1),t.k0s()),2&s&&(t.HbH(d.getClassNames()),t.BMQ("aria-label",d.ariaLabel)("aria-hidden",d.ariaHidden)("role",d.role))},encapsulation:2})),e})()}}]);
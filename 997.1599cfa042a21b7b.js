"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[997],{7595:(D,E,m)=>{m.d(E,{h:()=>f});var h=m(467),u=m(4262),s=m(4438),C=m(5312),e=m(7927),O=m(3423),v=m(5889);let f=(()=>{var P;class A{constructor(){this.firestore=(0,s.WQX)(u._7),this.userService=(0,s.WQX)(e.D),this.toastService=(0,s.WQX)(v.f),this.NAME_COLLECTION=C.c.colletionName.appointments}getAppointments(){var p=this;return(0,h.A)(function*(){const l=yield(0,u.GG)((0,u.rJ)(p.firestore,p.NAME_COLLECTION));return l.empty?{success:!0,data:[],message:"No appointments found"}:{success:!0,data:l.docs.map(g=>g.data()),message:"Success"}})()}getAppointmentById(p){var l=this;return(0,h.A)(function*(){const d=yield(0,u.x7)((0,u.H9)(l.firestore,l.NAME_COLLECTION,p));return d.exists()?{success:!0,data:d.data(),message:"Success"}:{success:!0,data:null,message:"Appointment not found"}})()}getAppointmentsByDoctor(p){var l=this;return(0,h.A)(function*(){try{const d=yield(0,u.GG)((0,u.rJ)(l.firestore,l.NAME_COLLECTION));if(d.empty)return{success:!0,data:[],message:"No appointments found"};const g=d.docs.filter(M=>M.data().professional.uid===p);return 0===g.length?{success:!0,data:[],message:"No appointments found"}:{success:!0,data:g.map(M=>M.data()),message:"Success"}}catch(d){return{success:!0,data:d,message:"error"}}})()}getAppointmentsByPatient(p){var l=this;return(0,h.A)(function*(){const d=yield(0,u.GG)((0,u.rJ)(l.firestore,l.NAME_COLLECTION));if(d.empty)return{success:!0,data:[],message:"No appointments found"};const g=d.docs.filter(M=>M.data().patient.uid===p);return 0===g.length?{success:!0,data:[],message:"No appointments found"}:{success:!0,data:g.map(M=>M.data()),message:"Success"}})()}createAppointment(p){var l=this;return(0,h.A)(function*(){const d=(0,O.I)();return yield(0,u.BN)((0,u.H9)(l.firestore,l.NAME_COLLECTION,d),{...p,uid:d}).then((0,h.A)(function*(){return yield l.userService.updateUserAppointments({...p,uid:d},p.patient.uid),yield l.userService.updateUserAppointments({...p,uid:d},p.professional.uid),yield l.userService.linkUser(p.professional.uid,p.patient.uid),yield l.userService.linkUser(p.patient.uid,p.professional.uid),{success:!0,data:{...p,uid:d},message:"Success"}})).catch(g=>({success:!1,data:g.code,message:g.message}))})()}updateAppointment(p,l){var d=this;return(0,h.A)(function*(){return yield(0,u.mZ)((0,u.H9)(d.firestore,d.NAME_COLLECTION,p),l).then(()=>({success:!0,data:l,message:"Success"})).catch(g=>({success:!1,data:g.code,message:g.message}))})()}deleteAppointment(p){var l=this;return(0,h.A)(function*(){return yield(0,u.kd)((0,u.H9)(l.firestore,l.NAME_COLLECTION,p)).then(()=>({success:!0,data:p,message:"Success"})).catch(d=>({success:!1,data:d.code,message:d.message}))})()}deleteAppointmentEv(p){var l=this;return(0,h.A)(function*(){const d=yield l.deleteAppointment(p.uid);if(d.success){const g=yield l.userService.getUserById(p.patient.uid),S=yield l.userService.getUserById(p.professional.uid);if(!S||!g)return;yield l.removeAppointmentFromUser(g.data,p.uid),yield l.removeAppointmentFromUser(S.data,p.uid)}return d})()}removeAppointmentFromUser(p,l){var d=this;return(0,h.A)(function*(){if(!p)return;let g=p;const S=g.appointments.findIndex(x=>x.uid===l);return-1!==S&&g.appointments.splice(S,1),yield d.userService.updateUserDB(g,p.uid)})()}searchAppointments(p){var l=this;return(0,h.A)(function*(){try{const d=yield(0,u.GG)((0,u.rJ)(l.firestore,l.NAME_COLLECTION));console.log(d.docs.length);const g=d.docs.filter(M=>{const x=M.data();console.log("appointmentData: ",x);for(const I in x)if(x[I]&&x[I].toString().toLowerCase().includes(p.toLowerCase()))return!0;return!1});return console.log(g.length),0===g.length?{success:!0,data:[],message:"No appointments found"}:{success:!0,data:g.map(M=>M.data()),message:"Success"}}catch(d){return{success:!1,data:d.code?d.code:d,message:"Error"}}})()}}return(P=A).\u0275fac=function(p){return new(p||P)},P.\u0275prov=s.jDH({token:P,factory:P.\u0275fac,providedIn:"root"}),A})()},5997:(D,E,m)=>{m.r(E),m.d(E,{NewEventComponent:()=>pt});var h=m(467),u=m(1141),s=m(9842),C=m(177),e=m(4438),O=m(5779),v=m(4420),f=m(9969);const P=(o,a,n,t)=>({index:o,active:a,highlighted:n,class:"p-stepper-action",headerClass:"p-stepper-action",numberClass:"p-stepper-number",titleClass:"p-stepper-title",onClick:t});function A(o,a){1&o&&e.eu8(0)}function F(o,a){if(1&o&&(e.qex(0),e.DNE(1,A,1,0,"ng-container",2),e.bVm()),2&o){const n=e.XpG();e.R7$(),e.Y8G("ngTemplateOutlet",n.template)("ngTemplateOutletContext",e.ziG(2,P,n.index,n.active,n.highlighted,n.onClick))}}function p(o,a){if(1&o){const n=e.RV6();e.j41(0,"p-button",3),e.bIt("click",function(i){e.eBV(n);const r=e.XpG();return e.Njj(r.onClick.emit(i,r.index))}),e.j41(1,"span",4),e.EFF(2),e.k0s(),e.j41(3,"span",5),e.EFF(4),e.k0s()()}if(2&o){const n=e.XpG();e.Y8G("id",n.id)("tabindex",n.disabled?-1:void 0)("aria-controls",n.ariaControls),e.R7$(2),e.JRh(n.index+1),e.R7$(2),e.JRh(n.getStepProp)}}const l=(o,a,n,t)=>({index:o,active:a,highlighted:n,class:t});function d(o,a){1&o&&e.eu8(0)}function g(o,a){if(1&o&&(e.qex(0),e.DNE(1,d,1,0,"ng-container",2),e.bVm()),2&o){const n=e.XpG();e.R7$(),e.Y8G("ngTemplateOutlet",n.template)("ngTemplateOutletContext",e.ziG(2,l,n.index,n.active,n.highlighted,n.separatorClass))}}function S(o,a){if(1&o&&e.nrm(0,"span",3),2&o){const n=e.XpG();e.HbH(n.separatorClass)}}const M=(o,a,n,t,i,r)=>({index:o,active:a,highlighted:n,onClick:t,prevCallback:i,nextCallback:r});function x(o,a){1&o&&e.eu8(0)}function I(o,a){if(1&o&&(e.qex(0),e.DNE(1,x,1,0,"ng-container",2),e.bVm()),2&o){const n=e.XpG();e.R7$(),e.Y8G("ngTemplateOutlet",n.template)("ngTemplateOutletContext",e.l4e(2,M,n.index,n.active,n.highlighted,n.onClick,n.prevCallback,n.nextCallback))}}function z(o,a){1&o&&e.eu8(0)}function W(o,a){if(1&o&&(e.qex(0),e.DNE(1,z,1,0,"ng-container",3),e.bVm()),2&o){const n=e.XpG(3);e.R7$(),e.Y8G("ngTemplateOutlet",n.stepperPanel)}}function q(o,a){if(1&o&&e.DNE(0,W,2,1,"ng-container",1),2&o){const n=e.XpG(2);e.Y8G("ngIf",n.stepperPanel)}}function K(o,a){1&o&&e.DNE(0,q,1,1,"ng-template")}const Q=["*"],R=(o,a)=>({"p-highlight":o,"p-disabled":a}),Z=o=>({"p-stepper-panel-active":o}),B=o=>({transitionParams:o}),ee=o=>({value:"visible",params:o}),te=o=>({value:"hidden",params:o});function ne(o,a){1&o&&e.eu8(0)}function ie(o,a){if(1&o&&(e.qex(0),e.DNE(1,ne,1,0,"ng-container",4),e.bVm()),2&o){const n=e.XpG();e.R7$(),e.Y8G("ngTemplateOutlet",n.startTemplate)}}function oe(o,a){if(1&o&&(e.qex(0),e.nrm(1,"p-stepperSeparator",10),e.bVm()),2&o){const n=e.XpG(),t=n.$implicit,i=n.index,r=e.XpG(2);e.R7$(),e.Y8G("template",t.separatorTemplate)("separatorClass","p-stepper-separator")("stepperPanel",t)("index",i)("active",r.isStepActive(i))("highlighted",i<r.activeStep)}}function ae(o,a){if(1&o){const n=e.RV6();e.j41(0,"li",8)(1,"p-stepperHeader",9),e.bIt("onClick",function(i){const r=e.eBV(n).index,c=e.XpG(2);return e.Njj(c.onItemClick(i,r))}),e.k0s(),e.DNE(2,oe,2,6,"ng-container",2),e.k0s()}if(2&o){const n=a.$implicit,t=a.index,i=e.XpG(2);e.Y8G("key",i.getStepKey(n,t))("ngClass",e.l_i(20,R,i.isStepActive(t),i.isItemDisabled(t)))("data-pc-name",i.stepperPanel)("data-p-highlight",i.isStepActive(t))("data-p-disabled",i.isItemDisabled(t))("data-pc-index",t)("data-p-active",i.isStepActive(t)),e.BMQ("aria-current",i.isStepActive(t)?"step":void 0),e.R7$(),e.HbH("p-stepper-action"),e.Y8G("id",i.getStepHeaderActionId(t))("template",n.headerTemplate)("stepperPanel",n)("getStepProp",i.getStepProp(n,"header"))("index",t)("disabled",i.isItemDisabled(t))("active",i.isStepActive(t))("highlighted",t<i.activeStep)("aria-controls",i.getStepContentId(t)),e.R7$(),e.Y8G("ngIf",t!==i.stepperPanels.length-1)}}function re(o,a){if(1&o){const n=e.RV6();e.qex(0),e.j41(1,"p-stepperContent",11),e.bIt("onClick",function(i){e.eBV(n);const r=e.XpG().index,c=e.XpG(2);return e.Njj(c.onItemClick(i,r))})("nextCallback",function(i){e.eBV(n);const r=e.XpG().index,c=e.XpG(2);return e.Njj(c.nextCallback(i,r))})("prevCallback",function(i){e.eBV(n);const r=e.XpG().index,c=e.XpG(2);return e.Njj(c.prevCallback(i,r))}),e.k0s(),e.bVm()}if(2&o){const n=e.XpG(),t=n.$implicit,i=n.index,r=e.XpG(2);e.R7$(),e.Y8G("id",r.getStepContentId(i))("template",t.contentTemplate)("orientation",r.orientation)("stepperPanel",t)("index",i)("active",r.isStepActive(i))("highlighted",i<r.activeStep)("ariaLabelledby",r.getStepHeaderActionId(i))}}function se(o,a){if(1&o&&e.DNE(0,re,2,8,"ng-container",2),2&o){const n=a.index,t=e.XpG(2);e.Y8G("ngIf",t.isStepActive(n))}}function ce(o,a){if(1&o&&(e.qex(0),e.j41(1,"ul",5),e.DNE(2,ae,3,23,"ng-template",6),e.k0s(),e.j41(3,"div",7),e.DNE(4,se,1,1,"ng-template",6),e.k0s(),e.bVm()),2&o){const n=e.XpG();e.R7$(2),e.Y8G("ngForOf",n.panels)("ngForTrackBy",n.trackByFn),e.R7$(2),e.Y8G("ngForOf",n.panels)("ngForTrackBy",n.trackByFn)}}function pe(o,a){if(1&o&&(e.qex(0),e.nrm(1,"p-stepperSeparator",10),e.bVm()),2&o){const n=e.XpG(),t=n.$implicit,i=n.index,r=e.XpG(2);e.R7$(),e.Y8G("template",t.separatorTemplate)("separatorClass","p-stepper-separator")("stepperPanel",t)("index",i)("active",r.isStepActive(i))("highlighted",i<r.activeStep)}}function le(o,a){if(1&o){const n=e.RV6();e.j41(0,"div",12)(1,"div",13)(2,"p-stepperHeader",9),e.bIt("onClick",function(i){const r=e.eBV(n).index,c=e.XpG(2);return e.Njj(c.onItemClick(i,r))}),e.k0s()(),e.j41(3,"div",14),e.DNE(4,pe,2,6,"ng-container",2),e.j41(5,"p-stepperContent",11),e.bIt("onClick",function(i){const r=e.eBV(n).index,c=e.XpG(2);return e.Njj(c.onItemClick(i,r))})("nextCallback",function(i){const r=e.eBV(n).index,c=e.XpG(2);return e.Njj(c.nextCallback(i,r))})("prevCallback",function(i){const r=e.eBV(n).index,c=e.XpG(2);return e.Njj(c.prevCallback(i,r))}),e.k0s()()()}if(2&o){const n=a.$implicit,t=a.index,i=e.XpG(2);e.Y8G("key",i.getStepKey(n,t))("ngClass",e.eq3(30,Z,"vertical"===i.orientation&&i.isStepActive(t)))("data-pc-name","stepperpanel")("data-p-highlight",i.isStepActive(t))("data-p-disabled",i.isItemDisabled(t))("data-pc-index",t)("data-p-active",i.isStepActive(t)),e.BMQ("aria-current",i.isStepActive(t)?"step":void 0),e.R7$(),e.Y8G("ngClass",e.l_i(32,R,i.isStepActive(t),i.isItemDisabled(t))),e.R7$(),e.HbH("p-stepper-action"),e.Y8G("id",i.getStepHeaderActionId(t))("template",n.headerTemplate)("stepperPanel",n)("getStepProp",i.getStepProp(n,"header"))("index",t)("disabled",i.isItemDisabled(t))("active",i.isStepActive(t))("highlighted",t<i.activeStep)("aria-controls",i.getStepContentId(t)),e.R7$(),e.Y8G("@tabContent",i.isStepActive(t)?e.eq3(37,ee,e.eq3(35,B,i.transitionOptions)):e.eq3(41,te,e.eq3(39,B,i.transitionOptions))),e.R7$(),e.Y8G("ngIf",t!==i.stepperPanels.length-1),e.R7$(),e.Y8G("id",i.getStepContentId(t))("template",n.contentTemplate)("orientation",i.orientation)("stepperPanel",n)("index",t)("active",i.isStepActive(t))("highlighted",t<i.activeStep)("ariaLabelledby",i.getStepHeaderActionId(t))}}function de(o,a){if(1&o&&e.DNE(0,le,6,43,"ng-template",6),2&o){const n=e.XpG();e.Y8G("ngForOf",n.panels)("ngForTrackBy",n.trackByFn)}}function me(o,a){1&o&&e.eu8(0)}function _e(o,a){if(1&o&&(e.qex(0),e.DNE(1,me,1,0,"ng-container",4),e.bVm()),2&o){const n=e.XpG();e.R7$(),e.Y8G("ngTemplateOutlet",n.endTemplate)}}let ge=(()=>{var o;class a{constructor(){(0,s.A)(this,"id",void 0),(0,s.A)(this,"template",void 0),(0,s.A)(this,"stepperPanel",void 0),(0,s.A)(this,"index",void 0),(0,s.A)(this,"disabled",void 0),(0,s.A)(this,"active",void 0),(0,s.A)(this,"highlighted",void 0),(0,s.A)(this,"getStepProp",void 0),(0,s.A)(this,"ariaControls",void 0),(0,s.A)(this,"onClick",new e.bkB)}}return o=a,(0,s.A)(a,"\u0275fac",function(t){return new(t||o)}),(0,s.A)(a,"\u0275cmp",e.VBU({type:o,selectors:[["p-stepperHeader"]],hostAttrs:[1,"p-element"],inputs:{id:"id",template:"template",stepperPanel:"stepperPanel",index:"index",disabled:"disabled",active:"active",highlighted:"highlighted",getStepProp:"getStepProp",ariaControls:"ariaControls"},outputs:{onClick:"onClick"},decls:3,vars:2,consts:[["buttonRef",""],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["role","tab",1,"p-stepper-action",3,"click","id","tabindex","aria-controls"],[1,"p-stepper-number"],[1,"p-stepper-title"]],template:function(t,i){if(1&t&&e.DNE(0,F,2,7,"ng-container",1)(1,p,5,5,"ng-template",null,0,e.C5r),2&t){const r=e.sdS(2);e.Y8G("ngIf",i.template)("ngIfElse",r)}},dependencies:[C.bT,C.T3],encapsulation:2})),a})(),ue=(()=>{var o;class a{constructor(){(0,s.A)(this,"template",void 0),(0,s.A)(this,"separatorClass",void 0),(0,s.A)(this,"stepperPanel",void 0),(0,s.A)(this,"index",void 0),(0,s.A)(this,"active",void 0),(0,s.A)(this,"highlighted",void 0)}}return o=a,(0,s.A)(a,"\u0275fac",function(t){return new(t||o)}),(0,s.A)(a,"\u0275cmp",e.VBU({type:o,selectors:[["p-stepperSeparator"]],hostAttrs:[1,"p-stepper-separator"],inputs:{template:"template",separatorClass:"separatorClass",stepperPanel:"stepperPanel",index:"index",active:"active",highlighted:"highlighted"},decls:3,vars:2,consts:[["span",""],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true"]],template:function(t,i){if(1&t&&e.DNE(0,g,2,7,"ng-container",1)(1,S,1,2,"ng-template",null,0,e.C5r),2&t){const r=e.sdS(2);e.Y8G("ngIf",i.template)("ngIfElse",r)}},dependencies:[C.bT,C.T3],encapsulation:2})),a})(),Ce=(()=>{var o;class a{constructor(){(0,s.A)(this,"id",void 0),(0,s.A)(this,"orientation",void 0),(0,s.A)(this,"template",void 0),(0,s.A)(this,"ariaLabelledby",void 0),(0,s.A)(this,"stepperPanel",void 0),(0,s.A)(this,"index",void 0),(0,s.A)(this,"active",void 0),(0,s.A)(this,"highlighted",void 0),(0,s.A)(this,"onClick",new e.bkB),(0,s.A)(this,"prevCallback",new e.bkB),(0,s.A)(this,"nextCallback",new e.bkB)}}return o=a,(0,s.A)(a,"\u0275fac",function(t){return new(t||o)}),(0,s.A)(a,"\u0275cmp",e.VBU({type:o,selectors:[["p-stepperContent"]],hostVars:6,hostBindings:function(t,i){2&t&&e.AVh("p-stepper-content",!0)("p-element",!0)("p-toggleable-content","vertical"===i.orientation)},inputs:{id:"id",orientation:"orientation",template:"template",ariaLabelledby:"ariaLabelledby",stepperPanel:"stepperPanel",index:"index",active:"active",highlighted:"highlighted"},outputs:{onClick:"onClick",prevCallback:"prevCallback",nextCallback:"nextCallback"},decls:3,vars:6,consts:[["role","tabpanel","data-pc-name","stepperpanel",3,"id"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngTemplateOutlet"]],template:function(t,i){1&t&&(e.j41(0,"div",0),e.DNE(1,I,2,9,"ng-container",1)(2,K,1,0,null,1),e.k0s()),2&t&&(e.Y8G("id",i.id),e.BMQ("data-pc-index",i.index)("data-p-active",i.active)("aria-labelledby",i.ariaLabelledby),e.R7$(),e.Y8G("ngIf",i.template),e.R7$(),e.Y8G("ngIf",!i.template))},dependencies:[C.bT,C.T3],encapsulation:2})),a})(),$=(()=>{var o;class a{constructor(){(0,s.A)(this,"header",void 0),(0,s.A)(this,"templates",void 0),(0,s.A)(this,"headerTemplate",void 0),(0,s.A)(this,"startTemplate",void 0),(0,s.A)(this,"contentTemplate",void 0),(0,s.A)(this,"separatorTemplate",void 0),(0,s.A)(this,"endTemplate",void 0)}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"header":this.headerTemplate=t.template;break;case"content":this.contentTemplate=t.template;break;case"separator":this.separatorTemplate=t.template}})}}return o=a,(0,s.A)(a,"\u0275fac",function(t){return new(t||o)}),(0,s.A)(a,"\u0275cmp",e.VBU({type:o,selectors:[["p-stepperPanel"]],contentQueries:function(t,i,r){if(1&t&&e.wni(r,O.Ei,4),2&t){let c;e.mGM(c=e.lsd())&&(i.templates=c)}},hostAttrs:[1,"p-element"],inputs:{header:"header"},ngContentSelectors:Q,decls:1,vars:0,template:function(t,i){1&t&&(e.NAR(),e.SdG(0))},encapsulation:2})),a})(),fe=(()=>{var o;class a{constructor(){(0,s.A)(this,"activeStep",0),(0,s.A)(this,"orientation","horizontal"),(0,s.A)(this,"linear",!1),(0,s.A)(this,"transitionOptions","400ms cubic-bezier(0.86, 0, 0.07, 1)"),(0,s.A)(this,"stepperPanels",void 0),(0,s.A)(this,"templates",void 0),(0,s.A)(this,"onClick",new e.bkB),(0,s.A)(this,"activeStepChange",new e.bkB),(0,s.A)(this,"headerTemplate",void 0),(0,s.A)(this,"startTemplate",void 0),(0,s.A)(this,"separatorTemplate",void 0),(0,s.A)(this,"endTemplate",void 0),(0,s.A)(this,"id",(0,v._Y)()),(0,s.A)(this,"panels",void 0)}isStepActive(t){return this.activeStep===t}getStepProp(t){return null!=t&&t.header?t.header:null!=t&&t.content?t.content:void 0}getStepKey(t,i){return this.getStepProp(t)||i}getStepHeaderActionId(t){return`${this.id}_${t}_header_action`}getStepContentId(t){return`${this.id}_${t}_content`}updateActiveStep(t,i){this.activeStep=i,this.activeStepChange.emit(this.activeStep)}onItemClick(t,i){this.linear?t.preventDefault():i!==this.activeStep&&this.updateActiveStep(t,i)}isItemDisabled(t){return this.linear&&!this.isStepActive(t)}prevCallback(t,i){0!==i&&this.updateActiveStep(t,i-1)}nextCallback(t,i){i!==this.stepperPanels.length-1&&this.updateActiveStep(t,i+1)}trackByFn(t){return t}ngAfterContentInit(){this.panels=this.stepperPanels.toArray(),this.templates.forEach(t=>{switch(t.getType()){case"start":this.startTemplate=t.template;break;case"end":this.endTemplate=t.template}})}}return o=a,(0,s.A)(a,"\u0275fac",function(t){return new(t||o)}),(0,s.A)(a,"\u0275cmp",e.VBU({type:o,selectors:[["p-stepper"]],contentQueries:function(t,i,r){if(1&t&&(e.wni(r,$,4),e.wni(r,O.Ei,4)),2&t){let c;e.mGM(c=e.lsd())&&(i.stepperPanels=c),e.mGM(c=e.lsd())&&(i.templates=c)}},hostVars:6,hostBindings:function(t,i){2&t&&e.AVh("p-stepper",!0)("p-component",!0)("p-stepper-vertical","vertical"===i.orientation)},inputs:{activeStep:"activeStep",orientation:"orientation",linear:"linear",transitionOptions:"transitionOptions"},outputs:{onClick:"onClick",activeStepChange:"activeStepChange"},decls:6,vars:4,consts:[["vertical",""],["role","tablist"],[4,"ngIf"],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet"],[1,"p-stepper-nav"],["ngFor","",3,"ngForOf","ngForTrackBy"],[1,"p-stepper-panels"],["role","presentation",1,"p-stepper-header",3,"key","ngClass","data-pc-name","data-p-highlight","data-p-disabled","data-pc-index","data-p-active"],[3,"onClick","id","template","stepperPanel","getStepProp","index","disabled","active","highlighted","aria-controls"],[3,"template","separatorClass","stepperPanel","index","active","highlighted"],[3,"onClick","nextCallback","prevCallback","id","template","orientation","stepperPanel","index","active","highlighted","ariaLabelledby"],[1,"p-stepper-panel",3,"key","ngClass","data-pc-name","data-p-highlight","data-p-disabled","data-pc-index","data-p-active"],[1,"p-stepper-header",3,"ngClass"],[1,"p-stepper-toggleable-content"]],template:function(t,i){if(1&t&&(e.j41(0,"div",1),e.DNE(1,ie,2,1,"ng-container",2)(2,ce,5,4,"ng-container",3)(3,de,1,2,"ng-template",null,0,e.C5r)(5,_e,2,1,"ng-container",2),e.k0s()),2&t){const r=e.sdS(4);e.R7$(),e.Y8G("ngIf",i.startTemplate),e.R7$(),e.Y8G("ngIf","horizontal"===i.orientation)("ngIfElse",r),e.R7$(3),e.Y8G("ngIf",i.endTemplate)}},dependencies:[C.YU,C.Sq,C.bT,C.T3,Ce,ge,ue],styles:["@layer primeng{.p-stepper-vertical .p-stepper-panel>.p-stepper-toggleable-content{overflow:hidden}.p-stepper-vertical .p-stepper-panel-active>.p-stepper-toggleable-content:not(.ng-animating){overflow:inherit}}\n"],encapsulation:2,data:{animation:[(0,f.hZ)("tabContent",[(0,f.wk)("hidden",(0,f.iF)({height:"0",visibility:"hidden"})),(0,f.wk)("visible",(0,f.iF)({height:"*",visibility:"visible"})),(0,f.kY)("visible <=> hidden",[(0,f.i0)("250ms cubic-bezier(0.86, 0, 0.07, 1)")]),(0,f.kY)("void => *",(0,f.i0)(0))])]},changeDetection:0})),a})(),he=(()=>{var o;class a{}return o=a,(0,s.A)(a,"\u0275fac",function(t){return new(t||o)}),(0,s.A)(a,"\u0275mod",e.$C({type:o})),(0,s.A)(a,"\u0275inj",e.G2t({imports:[C.MD,O.Gg,O.Gg]})),a})();var _=m(9417);function ve(o,a){if(1&o){const n=e.RV6();e.j41(0,"div",5),e.bIt("click",function(){const i=e.eBV(n).$implicit,r=e.XpG(2);return e.Njj(r.addItem(i))}),e.EFF(1),e.k0s()}if(2&o){const n=a.$implicit;e.R7$(),e.SpI(" ",n," ")}}function Me(o,a){if(1&o&&(e.j41(0,"div",3),e.Z7z(1,ve,2,1,"div",null,e.Vm6),e.k0s()),2&o){const n=e.XpG();e.R7$(),e.Dyx(n.filteredItems)}}function Pe(o,a){if(1&o){const n=e.RV6();e.j41(0,"div",6),e.EFF(1),e.j41(2,"span",7),e.bIt("click",function(){const i=e.eBV(n).$implicit,r=e.XpG(2);return e.Njj(r.removeItem(i))}),e.nrm(3,"img",8),e.k0s()()}if(2&o){const n=a.$implicit;e.R7$(),e.SpI(" ",n," ")}}function Oe(o,a){if(1&o&&e.Z7z(0,Pe,4,1,"div",6,e.Vm6),2&o){const n=e.XpG();e.Dyx(n.selectedItems)}}let be=(()=>{var o;class a{constructor(){this.specialties=new e.bkB,this.searchTerm="",this.items=["Cardiolog\xeda","Dermatolog\xeda","Ginecolog\xeda","Odontolog\xeda"],this.filteredItems=[],this.selectedItems=[]}ngOnInit(){}onSearch(){this.searchTerm?(this.filteredItems=this.items.filter(t=>t.toLowerCase().includes(this.searchTerm.toLowerCase())),!this.items.includes(this.searchTerm)&&!this.filteredItems.includes(`Agregar "${this.searchTerm}"`)&&this.filteredItems.push(`Agregar "${this.searchTerm}"`)):this.filteredItems=[]}addItem(t){if(t.startsWith('Agregar "')){const i=t.replace(/^Agregar "(.+)"$/,"$1");this.items.push(i),this.selectedItems.push(i)}else this.selectedItems.includes(t)||this.selectedItems.push(t);this.searchTerm="",this.filteredItems=[],this.specialties.emit(this.selectedItems)}removeItem(t){this.selectedItems=this.selectedItems.filter(i=>i!==t),this.specialties.emit(this.selectedItems)}}return(o=a).\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.VBU({type:o,selectors:[["app-add-categories"]],outputs:{specialties:"specialties"},standalone:!0,features:[e.aNF],decls:8,vars:3,consts:[[1,"specialties-container"],[1,"container-search"],["type","text","placeholder","Buscar...",3,"ngModelChange","input","ngModel"],[1,"dropdown"],[1,"selected-items"],[3,"click"],[1,"label"],[1,"remove",3,"click"],["src","/assets/icon/remove.svg","alt",""]],template:function(t,i){1&t&&(e.j41(0,"div",0)(1,"h3"),e.EFF(2,"Selecciona especialidades para tu cita"),e.k0s(),e.j41(3,"div",1)(4,"input",2),e.mxI("ngModelChange",function(c){return e.DH7(i.searchTerm,c)||(i.searchTerm=c),c}),e.bIt("input",function(){return i.onSearch()}),e.k0s(),e.DNE(5,Me,3,0,"div",3),e.j41(6,"div",4),e.DNE(7,Oe,2,0),e.k0s()()()),2&t&&(e.R7$(4),e.R50("ngModel",i.searchTerm),e.R7$(),e.vxM(5,i.filteredItems.length>0?5:-1),e.R7$(2),e.vxM(7,i.selectedItems.length>0?7:-1))},dependencies:[_.YN,_.me,_.BC,_.vS],styles:[".specialties-container[_ngcontent-%COMP%]{margin:auto}.specialties-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--dark-gray);font-size:.875rem;font-weight:700}.specialties-container[_ngcontent-%COMP%]   .container-search[_ngcontent-%COMP%]{border:1px solid var(--light-gray);margin:.875rem 2rem;border-radius:.5rem;max-height:15rem;min-height:5rem}.specialties-container[_ngcontent-%COMP%]   .container-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:8px;border-radius:.5rem;border:1px solid var(--light-gray)}.specialties-container[_ngcontent-%COMP%]   .container-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{box-shadow:none;border:1px solid var(--dark-blue)}.specialties-container[_ngcontent-%COMP%]   .container-search[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]{border:1px solid #ccc;border-top:none;overflow-y:auto;background:#fff}.specialties-container[_ngcontent-%COMP%]   .container-search[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:8px;cursor:pointer}.specialties-container[_ngcontent-%COMP%]   .container-search[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover{background:#f0f0f0}.specialties-container[_ngcontent-%COMP%]   .container-search[_ngcontent-%COMP%]   .selected-items[_ngcontent-%COMP%]{margin:.5rem;position:relative}.specialties-container[_ngcontent-%COMP%]   .container-search[_ngcontent-%COMP%]   .selected-items[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{display:inline-flex;align-items:center;background:var(--label-gray);color:var(--black);padding:5px 10px;margin:5px 5px 0 0;border-radius:1rem}.specialties-container[_ngcontent-%COMP%]   .container-search[_ngcontent-%COMP%]   .selected-items[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   .remove[_ngcontent-%COMP%]{margin-left:5px;cursor:pointer}@media screen and (min-width: 1750px){.specialties-container[_ngcontent-%COMP%]   .container-search[_ngcontent-%COMP%]{max-width:64rem}}@media screen and (max-width: 768px){.specialties-container[_ngcontent-%COMP%]   .container-search[_ngcontent-%COMP%]{margin:.75rem 0;width:90%}}"]}),a})(),Se=(()=>{var o;class a{transform(t){return t&&Array.isArray(t)?t.join(", "):""}}return(o=a).\u0275fac=function(t){return new(t||o)},o.\u0275pipe=e.EJ8({name:"specialtiesList",type:o,pure:!0,standalone:!0}),a})(),xe=(()=>{var o;class a{constructor(){this.appointment={}}ngOnInit(){this.appointment||(this.appointment={patient:{name:"Default Patient",identification:"0"}})}}return(o=a).\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.VBU({type:o,selectors:[["app-appointment-summary"]],inputs:{appointment:"appointment"},standalone:!0,features:[e.aNF],decls:70,vars:18,consts:[[1,"summary-container"],[1,"user-information"],[1,"info"],[1,"left"],[1,"id"],["for","id"],[1,"email"],["for","email"],[1,"right"],[1,"name"],["for","name"],[1,"phone"],["for","phone"],[1,"nurse-information"],[1,"appointment-info"],[1,"top"],[1,"date"],["for","date"],[1,"specialty"],["for","specialty"]],template:function(t,i){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"h3"),e.EFF(3,"Paciente:"),e.k0s(),e.j41(4,"div",2)(5,"div",3)(6,"div",4)(7,"label",5),e.EFF(8,"C\xe9dula:"),e.k0s(),e.j41(9,"span"),e.EFF(10),e.k0s()(),e.j41(11,"div",6)(12,"label",7),e.EFF(13,"Correo:"),e.k0s(),e.j41(14,"span"),e.EFF(15),e.k0s()()(),e.j41(16,"div",8)(17,"div",9)(18,"label",10),e.EFF(19,"Nombre:"),e.k0s(),e.j41(20,"span"),e.EFF(21),e.k0s()(),e.j41(22,"div",11)(23,"label",12),e.EFF(24,"Telefono:"),e.k0s(),e.j41(25,"span"),e.EFF(26),e.k0s()()()()(),e.j41(27,"div",13)(28,"h3"),e.EFF(29,"Enfermero/a"),e.k0s(),e.j41(30,"div",2)(31,"div",3)(32,"div",4)(33,"label",5),e.EFF(34,"C\xe9dula:"),e.k0s(),e.j41(35,"span"),e.EFF(36),e.k0s()(),e.j41(37,"div",6)(38,"label",7),e.EFF(39,"Correo:"),e.k0s(),e.j41(40,"span"),e.EFF(41),e.k0s()()(),e.j41(42,"div",8)(43,"div",9)(44,"label",10),e.EFF(45,"Nombre:"),e.k0s(),e.j41(46,"span"),e.EFF(47),e.k0s()(),e.j41(48,"div",11)(49,"label",12),e.EFF(50,"Telefono:"),e.k0s(),e.j41(51,"span"),e.EFF(52),e.k0s()()()()(),e.j41(53,"div",14)(54,"h3"),e.EFF(55,"Resumen de la cita"),e.k0s(),e.j41(56,"div",2)(57,"div",15)(58,"div",16)(59,"label",17),e.EFF(60,"Fecha y hora:"),e.k0s(),e.j41(61,"span"),e.EFF(62),e.nI1(63,"date"),e.k0s()(),e.j41(64,"div",18)(65,"label",19),e.EFF(66,"Especialidad:"),e.k0s(),e.j41(67,"span"),e.EFF(68),e.nI1(69,"specialtiesList"),e.k0s()()()()()()),2&t&&(e.R7$(10),e.JRh(i.appointment.patient.identification||""),e.R7$(5),e.JRh(i.appointment.patient.email),e.R7$(6),e.Lme("",i.appointment.patient.name," ",i.appointment.patient.lastname,""),e.R7$(5),e.JRh(i.appointment.patient.phoneNumber),e.R7$(10),e.JRh(i.appointment.professional.identification),e.R7$(5),e.JRh(i.appointment.professional.email),e.R7$(6),e.Lme("",i.appointment.professional.name," ",i.appointment.professional.lastname,""),e.R7$(5),e.JRh(i.appointment.professional.phoneNumber),e.R7$(10),e.JRh(e.brH(63,12,i.appointment.datetime,"dd/MM/yyyy HH:mm:ss","UTC+0")),e.R7$(6),e.JRh(e.bMT(69,16,i.appointment.specialties)))},dependencies:[u.tm,Se,C.MD,C.vh],styles:[".summary-container[_ngcontent-%COMP%]   .user-information[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .summary-container[_ngcontent-%COMP%]   .nurse-information[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .summary-container[_ngcontent-%COMP%]   .appointment-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--dark-gray);font-size:.875rem;font-weight:700}.summary-container[_ngcontent-%COMP%]   .user-information[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .summary-container[_ngcontent-%COMP%]   .nurse-information[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .summary-container[_ngcontent-%COMP%]   .appointment-info[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin:1rem}.summary-container[_ngcontent-%COMP%]   .user-information[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%], .summary-container[_ngcontent-%COMP%]   .user-information[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%], .summary-container[_ngcontent-%COMP%]   .nurse-information[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%], .summary-container[_ngcontent-%COMP%]   .nurse-information[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%], .summary-container[_ngcontent-%COMP%]   .appointment-info[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%], .summary-container[_ngcontent-%COMP%]   .appointment-info[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;flex:1;gap:1rem}.summary-container[_ngcontent-%COMP%]   .user-information[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .summary-container[_ngcontent-%COMP%]   .user-information[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .summary-container[_ngcontent-%COMP%]   .nurse-information[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .summary-container[_ngcontent-%COMP%]   .nurse-information[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .summary-container[_ngcontent-%COMP%]   .appointment-info[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .summary-container[_ngcontent-%COMP%]   .appointment-info[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;gap:1rem}.summary-container[_ngcontent-%COMP%]   .user-information[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .summary-container[_ngcontent-%COMP%]   .user-information[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .summary-container[_ngcontent-%COMP%]   .nurse-information[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .summary-container[_ngcontent-%COMP%]   .nurse-information[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .summary-container[_ngcontent-%COMP%]   .appointment-info[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .summary-container[_ngcontent-%COMP%]   .appointment-info[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{flex:.25}.summary-container[_ngcontent-%COMP%]   .user-information[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .summary-container[_ngcontent-%COMP%]   .user-information[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .summary-container[_ngcontent-%COMP%]   .nurse-information[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .summary-container[_ngcontent-%COMP%]   .nurse-information[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .summary-container[_ngcontent-%COMP%]   .appointment-info[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .summary-container[_ngcontent-%COMP%]   .appointment-info[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1}.summary-container[_ngcontent-%COMP%]   .appointment-info[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;flex-direction:row}.summary-container[_ngcontent-%COMP%]   .appointment-info[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;flex:1}.summary-container[_ngcontent-%COMP%]   .appointment-info[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{display:flex;flex:1;gap:1rem}.summary-container[_ngcontent-%COMP%]   .appointment-info[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{flex:.25}.summary-container[_ngcontent-%COMP%]   .appointment-info[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1}.summary-container[_ngcontent-%COMP%]   .appointment-info[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .specialty[_ngcontent-%COMP%]{display:flex;flex:1;gap:1rem}.summary-container[_ngcontent-%COMP%]   .appointment-info[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .specialty[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{flex:.2}.summary-container[_ngcontent-%COMP%]   .appointment-info[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .specialty[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1}@media screen and (max-width: 768px){.summary-container[_ngcontent-%COMP%]{width:90%;font-size:.875rem}.summary-container[_ngcontent-%COMP%]   .user-information[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .summary-container[_ngcontent-%COMP%]   .nurse-information[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], .summary-container[_ngcontent-%COMP%]   .appointment-info[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{flex-direction:column;margin:1rem 0rem;width:90%;gap:.5rem}.summary-container[_ngcontent-%COMP%]   .user-information[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%], .summary-container[_ngcontent-%COMP%]   .user-information[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%], .summary-container[_ngcontent-%COMP%]   .nurse-information[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%], .summary-container[_ngcontent-%COMP%]   .nurse-information[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%], .summary-container[_ngcontent-%COMP%]   .appointment-info[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%], .summary-container[_ngcontent-%COMP%]   .appointment-info[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}.summary-container[_ngcontent-%COMP%]   .appointment-info[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{gap:.5rem}.summary-container[_ngcontent-%COMP%]   .appointment-info[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%], .summary-container[_ngcontent-%COMP%]   .appointment-info[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .below[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}}"]}),a})();var V=m(1667),w=m(9572),N=m(2185);const ke=()=>({minWidth:"100%",border:"1px solid var(--light-gray)"});let Ae=(()=>{var o;class a{constructor(t){this.route=t,this.availableTimes=[],this.isReadyForNextStep=!1,this.dateSelected=new e.bkB,this.day=0,this.selectedDate=null,this.selectedTime=null,this.minDate=new Date,this.selectedDate=new Date(Number(this.route.snapshot.params.date))}ngOnInit(){}onDateClick(t){this.selectedTime=null}onTimeSelected(){this.selectedDate=function ye(o,a){const n=new Date(o),t=a.match(/^(\d{1,2}):(\d{2})$/);if(!t)throw new Error("Invalid time format");{const[i,r,c]=t.map(Number);n.setUTCHours(r),n.setMinutes(c),n.setSeconds(0),n.setMilliseconds(0)}return n}(this.selectedDate.toString(),this.selectedTime.toString()).toISOString(),this.dateSelected.emit(this.selectedDate)}}return(o=a).\u0275fac=function(t){return new(t||o)(e.rXU(N.nX))},o.\u0275cmp=e.VBU({type:o,selectors:[["app-date-and-time-picker"]],inputs:{availableTimes:"availableTimes",isReadyForNextStep:"isReadyForNextStep"},outputs:{dateSelected:"dateSelected"},standalone:!0,features:[e.aNF],decls:8,vars:8,consts:[[1,"date-time-container"],[1,"date-time-content"],[1,"date"],[3,"ngModelChange","ngModel","inline","minDate"],[1,"time"],["placeholder","Seleccione una hora",3,"ngModelChange","onChange","options","ngModel"]],template:function(t,i){1&t&&(e.j41(0,"div",0)(1,"h3"),e.EFF(2,"Disponibilidad"),e.k0s(),e.j41(3,"div",1)(4,"div",2)(5,"p-calendar",3),e.mxI("ngModelChange",function(c){return e.DH7(i.selectedDate,c)||(i.selectedDate=c),c}),e.bIt("ngModelChange",function(){return i.dateSelected.emit(i.selectedDate)}),e.k0s()(),e.j41(6,"div",4)(7,"p-dropdown",5),e.mxI("ngModelChange",function(c){return e.DH7(i.selectedTime,c)||(i.selectedTime=c),c}),e.bIt("onChange",function(){return i.onTimeSelected()}),e.k0s()()()()),2&t&&(e.R7$(5),e.R50("ngModel",i.selectedDate),e.Y8G("inline",!0)("minDate",i.minDate),e.R7$(2),e.Aen(e.lJ4(7,ke)),e.Y8G("options",i.availableTimes),e.R50("ngModel",i.selectedTime))},dependencies:[V.rO,V.Vv,_.YN,_.BC,_.vS,w.kr,w.ms],styles:[".date-time-container[_ngcontent-%COMP%]{margin:auto;width:100%}.date-time-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--dark-gray);font-size:.875rem;font-weight:700}.date-time-container[_ngcontent-%COMP%]   .date-time-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;gap:1rem;padding:0;margin:1rem 2rem;width:91%}.date-time-container[_ngcontent-%COMP%]   .date-time-content[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{flex:1;max-width:21rem;padding:1rem;border-radius:1rem;border:1px solid var(--light-gray)}.date-time-container[_ngcontent-%COMP%]   .date-time-content[_ngcontent-%COMP%]   .duration[_ngcontent-%COMP%]{flex:1;max-width:21rem;border-radius:1rem}.date-time-container[_ngcontent-%COMP%]   .date-time-content[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{flex:.5;display:flex;flex-direction:column;justify-content:space-between;width:100%}.date-time-container[_ngcontent-%COMP%]   .date-time-content[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]   .p-dropdown[_ngcontent-%COMP%]{display:flex;width:100%}@media screen and (max-width: 768px){.date-time-container[_ngcontent-%COMP%]   .date-time-content[_ngcontent-%COMP%]{width:90%;margin:1rem 0;flex-direction:column;gap:1rem}.date-time-container[_ngcontent-%COMP%]   .date-time-content[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{min-height:10rem}}"]}),a})();var X=m(7927);const Te=()=>({minWidth:"100%",border:"1px solid var(--light-gray)"});function Ee(o,a){if(1&o&&(e.j41(0,"div",5)(1,"div",6),e.EFF(2),e.k0s()()),2&o){const n=a.$implicit;e.R7$(2),e.Lme("",n.name," ",n.lastname,"")}}function Fe(o,a){if(1&o&&(e.j41(0,"div",5)(1,"div",6),e.EFF(2),e.k0s(),e.j41(3,"div",7),e.EFF(4),e.k0s()()),2&o){const n=a.$implicit;e.R7$(2),e.Lme("",n.name," ",n.lastname,""),e.R7$(2),e.JRh(n.mainSpecialty||"")}}let we=(()=>{var o;class a{constructor(t){this.userService=t,this.selectedUser=new e.bkB,this.users=[]}ngOnInit(){this.getAllProfessionals(),this.user=this.users.filter(t=>t.uid===this.user.id)}onUserSelected(t){this.user=t.value,this.selectedUser.emit(this.user)}getAllProfessionals(){this.userService.getProfessionals().then(({data:t})=>{this.users=t})}}return(o=a).\u0275fac=function(t){return new(t||o)(e.rXU(X.D))},o.\u0275cmp=e.VBU({type:o,selectors:[["app-select-user"]],outputs:{selectedUser:"selectedUser"},standalone:!0,features:[e.aNF],decls:7,vars:6,consts:[[1,"nurse-container"],[1,"nurse-content"],["optionLabel","name","placeholder","Seleccione un enfermero",3,"ngModelChange","onChange","options","ngModel","selectOnFocus"],["pTemplate","selectedItem"],["pTemplate","user"],[1,"nurse-option"],[1,"nombre"],[1,"especialidad"]],template:function(t,i){1&t&&(e.j41(0,"div",0)(1,"h3"),e.EFF(2,"Enfermero"),e.k0s(),e.j41(3,"div",1)(4,"p-dropdown",2),e.mxI("ngModelChange",function(c){return e.DH7(i.user,c)||(i.user=c),c}),e.bIt("onChange",function(c){return i.onUserSelected(c)}),e.DNE(5,Ee,3,2,"ng-template",3)(6,Fe,5,3,"ng-template",4),e.k0s()()()),2&t&&(e.R7$(4),e.Aen(e.lJ4(5,Te)),e.Y8G("options",i.users),e.R50("ngModel",i.user),e.Y8G("selectOnFocus",!0))},dependencies:[w.kr,w.ms,O.Ei,_.YN,_.BC,_.vS],styles:[".nurse-container[_ngcontent-%COMP%]{margin:auto}.nurse-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{flex:1;color:var(--dark-gray);font-size:.875rem;font-weight:700}.nurse-container[_ngcontent-%COMP%]   .nurse-content[_ngcontent-%COMP%]{margin:.75rem 2rem}.nurse-container[_ngcontent-%COMP%]   .nurse-content[_ngcontent-%COMP%]   .nurse-option[_ngcontent-%COMP%]{display:flex;justify-content:space-between}@media screen and (max-width: 768px){.nurse-container[_ngcontent-%COMP%]   .nurse-content[_ngcontent-%COMP%]{margin:.75rem 0;width:90%}}"]}),a})();var Ie=m(6068),L=m(6938),Y=m(519),H=m(1517),J=m(4441),je=m(1419);const j=(o,a)=>({show:o,hide:a}),Ne=()=>({width:"100%"}),y=o=>({editing:o}),Ue=()=>({width:"25rem",height:"15.5rem"});function Ge(o,a){if(1&o&&(e.j41(0,"pre"),e.EFF(1),e.k0s(),e.nrm(2,"app-spinner")),2&o){const n=e.XpG();e.R7$(),e.JRh(n.isLoading)}}function De(o,a){1&o&&e.nrm(0,"img",32)}function Re(o,a){1&o&&e.nrm(0,"img",33)}function Be(o,a){1&o&&e.nrm(0,"img",33)}function $e(o,a){1&o&&e.nrm(0,"img",34)}function Ve(o,a){if(1&o&&(e.j41(0,"div",35)(1,"div",21),e.EFF(2),e.k0s()()),2&o){const n=a.$implicit;e.R7$(2),e.Lme("",n.name," ",n.lastname,"")}}function Xe(o,a){if(1&o&&(e.j41(0,"div",35)(1,"div",36),e.EFF(2),e.k0s()()),2&o){const n=a.$implicit;e.R7$(2),e.Lme("",n.name," ",n.lastname,"")}}function Le(o,a){if(1&o){const n=e.RV6();e.j41(0,"div",37)(1,"h3"),e.EFF(2,"Ubicaci\xf3n"),e.k0s(),e.j41(3,"div",38)(4,"div")(5,"p-blockUI",39),e.nrm(6,"i",40),e.k0s(),e.j41(7,"p-panel",41,0)(9,"div",42)(10,"app-map",43),e.bIt("formattedAddressChange",function(i){e.eBV(n);const r=e.XpG(2);return e.Njj(r.onAddressChange(i))})("userLocationChange",function(i){e.eBV(n);const r=e.XpG(2);return e.Njj(r.onLocationChange(i))}),e.k0s()()()()()()}if(2&o){const n=e.sdS(8),t=e.XpG(2);e.R7$(5),e.Y8G("target",n)("blocked",!t.isEditing&&!t.isAdmin),e.R7$(2),e.Y8G("showHeader",!1),e.R7$(3),e.Y8G("mapStyles",e.lJ4(5,Ue))("isEditable",!0)}}function Ye(o,a){1&o&&(e.j41(0,"p",44),e.EFF(1,"* Por favor, complete todos los campos obligatorios."),e.k0s())}function He(o,a){if(1&o){const n=e.RV6();e.j41(0,"div",1)(1,"div",2)(2,"button",3),e.bIt("click",function(){e.eBV(n);const i=e.XpG();return e.Njj(i.toggleUserForm())}),e.DNE(3,De,1,0,"img",4)(4,Re,1,0,"img",5)(5,Be,1,0,"img",5)(6,$e,1,0,"img",6),e.k0s()(),e.j41(7,"div",7)(8,"p-dropdown",8),e.mxI("ngModelChange",function(i){e.eBV(n);const r=e.XpG();return e.DH7(r.tempUser,i)||(r.tempUser=i),e.Njj(i)}),e.bIt("onChange",function(i){e.eBV(n);const r=e.XpG();return e.Njj(r.onUserSelected(i))}),e.DNE(9,Ve,3,2,"ng-template",9)(10,Xe,3,2,"ng-template",10),e.k0s()(),e.j41(11,"div",11)(12,"form",12)(13,"div",13)(14,"div",14)(15,"label",15),e.EFF(16,"C\xe9dula:"),e.k0s(),e.nrm(17,"input",16),e.k0s(),e.j41(18,"div",17)(19,"label",18),e.EFF(20,"Correo:"),e.k0s(),e.nrm(21,"input",19),e.k0s()(),e.j41(22,"div",20)(23,"div",21)(24,"label",22),e.EFF(25,"Nombre:"),e.k0s(),e.nrm(26,"input",23),e.k0s(),e.j41(27,"div",24)(28,"label",25),e.EFF(29,"Telefono:"),e.k0s(),e.nrm(30,"input",26),e.k0s()()()(),e.j41(31,"div",11)(32,"form",12)(33,"div",13)(34,"div",14)(35,"label",15),e.EFF(36,"C\xe9dula:"),e.k0s(),e.nrm(37,"input",16),e.k0s(),e.j41(38,"div",17)(39,"label",18),e.EFF(40,"Correo:"),e.k0s(),e.nrm(41,"input",19),e.k0s()(),e.j41(42,"div",20)(43,"div",21)(44,"label",22),e.EFF(45,"Nombre:"),e.k0s(),e.nrm(46,"input",23),e.k0s(),e.j41(47,"div",24)(48,"label",25),e.EFF(49,"Telefono:"),e.k0s(),e.nrm(50,"input",26),e.k0s()()()(),e.DNE(51,Le,11,6,"div",27),e.j41(52,"div",28),e.DNE(53,Ye,2,0,"p",29),e.k0s(),e.j41(54,"div",30)(55,"button",31),e.bIt("click",function(){e.eBV(n);const i=e.XpG();return e.Njj(i.nextStep())}),e.EFF(56,"Siguiente"),e.k0s()()()}if(2&o){const n=e.XpG();e.R7$(3),e.Y8G("ngIf",n.isAdmin&&!n.isAdding),e.R7$(),e.Y8G("ngIf",n.isAdmin&&n.isAdding),e.R7$(),e.Y8G("ngIf",!n.isAdmin&&n.isEditing),e.R7$(),e.Y8G("ngIf",!n.isAdmin&&!n.isEditing),e.R7$(),e.Y8G("ngClass",e.l_i(33,j,n.isAdmin,!n.isAdmin)),e.R7$(),e.Aen(e.lJ4(36,Ne)),e.Y8G("options",n.users),e.R50("ngModel",n.tempUser),e.Y8G("ngClass",e.l_i(37,j,!n.isAdding,n.isAdding)),e.R7$(3),e.Y8G("ngClass",e.l_i(40,j,n.isAdding,!n.isAdding)),e.R7$(),e.Y8G("formGroup",n.newUserForm),e.R7$(5),e.HbH(e.eq3(43,y,n.isAdding)),e.R7$(4),e.HbH(e.eq3(45,y,n.isAdding)),e.R7$(5),e.HbH(e.eq3(47,y,n.isAdding)),e.R7$(4),e.HbH(e.eq3(49,y,n.isAdding)),e.R7$(),e.Y8G("ngClass",e.l_i(51,j,!n.isAdmin&&!n.isAdding,n.isAdmin||n.isAdding)),e.R7$(),e.Y8G("formGroup",n.userInfoForm),e.R7$(5),e.HbH(e.eq3(54,y,n.isEditing)),e.R7$(4),e.HbH(e.eq3(56,y,n.isEditing)),e.R7$(5),e.HbH(e.eq3(58,y,n.isEditing)),e.R7$(4),e.HbH(e.eq3(60,y,n.isEditing)),e.R7$(),e.Y8G("ngIf",!n.isAdmin||""!==n.tempUser.identification),e.R7$(2),e.Y8G("ngIf",n.isAdmin&&n.isAdding&&n.newUserForm.touched&&n.newUserForm.invalid&&""===n.tempUser.identification),e.R7$(2),e.Y8G("disabled",n.userInfoForm.invalid||n.isAdmin&&n.newUserForm.invalid&&""===n.tempUser.identification)}}let Je=(()=>{var o;class a{constructor(t,i,r,c){this.fb=t,this.authService=i,this.userService=r,this.mapService=c,this.next=new e.bkB,this.user=new e.bkB,this.isLoading=!1,this.currentUser=null,this.users=[],this.userLocation=null,this.isEditing=!1,this.isAdding=!1,this.isAdmin=!1,this.tempUser={identification:"",name:"",email:"",phoneNumber:"",address:"",lat:0,lng:0},this.isLoading=!0,setTimeout(()=>{this.getCurrentUser()},1e3),this.newUserForm=this.fb.group({identification:["",[_.k0.required,_.k0.minLength(9)]],name:["",_.k0.required],email:["",[_.k0.required,_.k0.email]],phoneNumber:["",_.k0.required]}),this.userInfoForm=this.fb.group({identification:["",[_.k0.required,_.k0.minLength(9)]],name:["",_.k0.required],email:["",[_.k0.required,_.k0.email]],phoneNumber:["",_.k0.required]}),this.isLoading=!1}ngOnInit(){this.authService.isAdmin().subscribe(t=>{this.isAdmin=t})}initializeForm(){var t,i,r,c,b;this.isLoading=!0,this.userInfoForm=this.fb.group({identification:[{value:this.isAdmin?"":null===(t=this.currentUser)||void 0===t?void 0:t.identification,disabled:!0},[_.k0.required,_.k0.minLength(9)]],name:[{value:this.isAdmin?"":(null===(i=this.currentUser)||void 0===i?void 0:i.name)+" "+(null===(r=this.currentUser)||void 0===r?void 0:r.lastname),disabled:!0},[_.k0.required]],email:[{value:this.isAdmin?"":null===(c=this.currentUser)||void 0===c?void 0:c.email,disabled:!0},[_.k0.required,_.k0.email]],phoneNumber:[{value:this.isAdmin?"":null===(b=this.currentUser)||void 0===b?void 0:b.phoneNumber,disabled:!0},[_.k0.required]]}),this.isLoading=!1}getCurrentUser(){this.isLoading=!0,this.authService.currentUser$.subscribe(t=>{t&&(this.currentUser=t,this.isAdmin="admin"===this.currentUser.role,this.initializeForm(),this.isAdmin&&this.getUsers()),this.isLoading=!1})}onUserSelected(t){this.tempUser=t.value,this.tempUser.lat&&this.tempUser.lng&&(this.userLocation={lat:this.tempUser.lat,lng:this.tempUser.lng},this.mapService.updateUserLocation(this.userLocation))}getUsers(){this.userService.getPatients().then(({data:t})=>{this.users=t})}toggleUserForm(){this.isLoading=!0,this.isAdmin?this.isAdding=!this.isAdding:(this.isEditing=!this.isEditing,this.isEditing?this.enableEdit():this.disableEdit()),this.isLoading=!1}disableEdit(){Object.keys(this.userInfoForm.controls).forEach(t=>{var i;null===(i=this.userInfoForm.get(t))||void 0===i||i.disable()})}enableEdit(){this.userInfoForm.enable()}onAddressChange(t){this.tempUser.address=t}onLocationChange(t){this.tempUser.lat=null==t?void 0:t.lat,this.tempUser.lng=null==t?void 0:t.lng}nextStep(){var t,i,r;if(""===this.tempUser.identification)if(""!==this.newUserForm.value.identification)this.tempUser={...this.newUserForm.value,address:null===(t=this.currentUser)||void 0===t?void 0:t.address,lat:null===(i=this.currentUser)||void 0===i?void 0:i.lat,lng:null===(r=this.currentUser)||void 0===r?void 0:r.lng};else if(""!==this.userInfoForm.value.identification){var c,b,T,k,U,G;this.tempUser={...this.userInfoForm.value,uid:null===(c=this.currentUser)||void 0===c?void 0:c.uid,name:null===(b=this.currentUser)||void 0===b?void 0:b.name,lastname:null===(T=this.currentUser)||void 0===T?void 0:T.lastname,address:null===(k=this.currentUser)||void 0===k?void 0:k.address,lat:null===(U=this.currentUser)||void 0===U?void 0:U.lat,lng:null===(G=this.currentUser)||void 0===G?void 0:G.lng}}this.user.emit(this.tempUser),this.next.emit()}}return(o=a).\u0275fac=function(t){return new(t||o)(e.rXU(_.ok),e.rXU(J.u),e.rXU(X.D),e.rXU(je.s))},o.\u0275cmp=e.VBU({type:o,selectors:[["app-user-summary"]],outputs:{next:"next",user:"user"},standalone:!0,features:[e.aNF],decls:2,vars:1,consts:[["pnl",""],[1,"user-information"],[1,"header-content"],[1,"edit",3,"click"],["src","/assets/icon/addNew.svg","alt","addNew","class","addNew",4,"ngIf"],["src","/assets/icon/remove.svg","alt","cancel","class","edit-or-cancel-img",4,"ngIf"],["src","/assets/icon/edit-pencil.svg","alt","edit","class","edit-or-cancel-img",4,"ngIf"],[1,"user-info",3,"ngClass"],["placeholder","Seleccione un paciente","optionLabel","name","styleClass","user-info-drop",1,"user-info-drop",3,"ngModelChange","onChange","options","ngModel","ngClass"],["pTemplate","selectedItem"],["pTemplate","item"],[1,"form-group",3,"ngClass"],[3,"formGroup"],[1,"left"],[1,"id"],["for","id"],["type","text","id","id","placeholder","C\xe9dula de identidad","formControlName","identification"],[1,"email"],["for","email"],["type","email","id","email","placeholder","Correo electr\xf3nico","formControlName","email"],[1,"right"],[1,"name"],["for","name"],["type","text","id","name","placeholder","Nombre","formControlName","name"],[1,"phone"],["for","phone"],["type","text","id","phone","placeholder","Telefono","formControlName","phoneNumber"],["class","location-container",4,"ngIf"],[1,"errors"],["class","error",4,"ngIf"],[1,"actions","step-1"],["type","submit",1,"next",3,"click","disabled"],["src","/assets/icon/addNew.svg","alt","addNew",1,"addNew"],["src","/assets/icon/remove.svg","alt","cancel",1,"edit-or-cancel-img"],["src","/assets/icon/edit-pencil.svg","alt","edit",1,"edit-or-cancel-img"],[1,"option"],[1,"nombre"],[1,"location-container"],[1,"map-container"],["styleClass","overlay",3,"target","blocked"],[1,"pi","pi-lock",2,"font-size","1.5rem"],["styleClass","map-panel",3,"showHeader"],[1,"map"],[3,"formattedAddressChange","userLocationChange","mapStyles","isEditable"],[1,"error"]],template:function(t,i){1&t&&e.DNE(0,Ge,3,1)(1,He,57,62),2&t&&e.vxM(0,i.isLoading?0:1)},dependencies:[_.X1,_.qT,_.me,_.BC,_.cb,_.j4,_.JD,Ie.i,_.YN,_.vS,L.S,L.K,Y.b,Y.Z,O.Ei,w.kr,w.ms,C.MD,C.YU,C.bT,H.t],styles:["[_nghost-%COMP%]     .map-panel.p-panel .p-panel-content{padding:0}[_nghost-%COMP%]     .overlay.p-blockui{border-radius:1rem;width:25rem!important;height:15.625rem}[_nghost-%COMP%]     .user-info-drop.p-element{border:1px solid var(--light-gray);border-radius:4px;width:91%}.header-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end}.header-content[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]{display:flex;justify-content:center;width:1.5rem;height:1.5rem;cursor:pointer;border-radius:.25rem;background-color:var(--light-gray);padding:.25rem}.header-content[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]   img.edit-or-cancel-img[_ngcontent-%COMP%]{width:.875rem;height:.875rem;filter:invert(33%) sepia(12%) saturate(13%) hue-rotate(346deg) brightness(96%) contrast(92%)}.location-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--dark-gray);font-size:.875rem;font-weight:700;padding-bottom:1rem}.user-info[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin:1rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:91%}.form-group[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin-bottom:1rem;width:100%}.form-group[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{flex:1;display:flex;gap:1rem}.form-group[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex:1;display:flex;gap:1rem;align-items:center;justify-content:space-between}.form-group[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{flex:.5}.form-group[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   *[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{color:var(--dark-gray)}.form-group[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;padding:.5rem;color:var(--dark-gray);width:70%;background-color:transparent}.form-group[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input.editing[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input.editing[_ngcontent-%COMP%]{border:1px solid var(--light-gray);border-radius:5px}.form-group[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input.editing[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input.editing[_ngcontent-%COMP%]:focus{border:1px solid var(--dark-blue);border-radius:5px}.form-group[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]:focus{box-shadow:none}.show[_ngcontent-%COMP%]{display:flex}.hide[_ngcontent-%COMP%]{display:none}.actions.step-1[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end;width:91%;gap:1rem}.actions.step-1[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:1rem;border:none;cursor:pointer}.actions.step-1[_ngcontent-%COMP%]   .next[_ngcontent-%COMP%]{flex:none;width:50%;background-color:var(--dark-blue);color:var(--white)}.errors[_ngcontent-%COMP%]{margin:1rem 0}.errors[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:var(--error-red);font-size:.875rem}@media screen and (max-width: 768px){.header-content[_ngcontent-%COMP%]{justify-content:flex-start}.user-info[_ngcontent-%COMP%]{margin:1rem 0}.form-group[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;width:91%}.form-group[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:1rem}.actions.step-1[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;width:91%}.actions.step-1[_ngcontent-%COMP%]   .next[_ngcontent-%COMP%]{width:100%}.map-container[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;margin:1rem 0;padding:0;width:max-content}.map-container[_ngcontent-%COMP%]   .map[_ngcontent-%COMP%]{width:100%}}"]}),a})();const ze=o=>{const[a,n]=o.split(":").map(Number),t=a>=12?"PM":"AM";return`${(a%12||12).toString().padStart(2,"0")}:${n.toString().padStart(2,"0")} ${t}`};var We=m(7595),qe=m(5312),Ke=m(9350),Qe=m(7707),et=m(1626);let tt=(()=>{var o;class a{constructor(t){this.http=t}getAvailableSlots(t){var i=this;return(0,h.A)(function*(){const r=`${qe.c.functionsBaseUrl}/availability`;let c=yield function Ze(o,a){const n="object"==typeof a;return new Promise((t,i)=>{const r=new Qe.Ms({next:c=>{t(c),r.unsubscribe()},error:i,complete:()=>{n?t(a.defaultValue):i(new Ke.G)}});o.subscribe(r)})}(i.http.post(r,t));return c&&200===c.status?{success:!0,data:c.data,message:c.message}:{success:!1,data:c.data,message:c.message}})()}}return(o=a).\u0275fac=function(t){return new(t||o)(e.KVO(et.Qq))},o.\u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"}),a})();var nt=m(5889);function it(o,a){1&o&&e.nrm(0,"app-spinner")}function ot(o,a){if(1&o){const n=e.RV6();e.j41(0,"app-user-summary",8),e.bIt("next",function(){const i=e.eBV(n).nextCallback;return e.Njj(i.emit())})("user",function(i){e.eBV(n);const r=e.XpG(2);return e.Njj(r.onUserSelected(i))}),e.k0s()}}function at(o,a){if(1&o){const n=e.RV6();e.j41(0,"app-select-user",9),e.bIt("selectedUser",function(i){e.eBV(n);const r=e.XpG(2);return e.Njj(r.onProfessionalSelected(i))}),e.k0s(),e.j41(1,"app-add-categories",10),e.bIt("specialties",function(i){e.eBV(n);const r=e.XpG(2);return e.Njj(r.appointment.specialties=i)}),e.k0s(),e.j41(2,"app-date-and-time-picker",11),e.bIt("dateSelected",function(i){e.eBV(n);const r=e.XpG(2);return e.Njj(r.onDateSelected(i))}),e.k0s(),e.j41(3,"div",12)(4,"button",13),e.bIt("click",function(){const i=e.eBV(n).prevCallback;return e.Njj(i.emit())}),e.EFF(5,"Atr\xe1s"),e.k0s(),e.j41(6,"button",14),e.bIt("click",function(){const i=e.eBV(n).nextCallback;return e.Njj(i.emit())}),e.EFF(7,"Siguiente"),e.k0s()()}if(2&o){const n=e.XpG(2);e.R7$(2),e.Y8G("availableTimes",n.availableTimes),e.R7$(4),e.Y8G("disabled",!n.appointment.professional||!(n.appointment.specialties&&n.appointment.specialties.length>0))}}function rt(o,a){if(1&o){const n=e.RV6();e.j41(0,"app-appointment-summary",19),e.bIt("back",function(){e.eBV(n);const i=e.XpG().prevCallback;return e.Njj(i.emit())}),e.k0s()}if(2&o){const n=e.XpG(3);e.Y8G("appointment",n.appointment)}}function st(o,a){if(1&o){const n=e.RV6();e.DNE(0,rt,1,1,"app-appointment-summary",15),e.j41(1,"div",12)(2,"div",16)(3,"button",13),e.bIt("click",function(){const i=e.eBV(n).prevCallback;return e.Njj(i.emit())}),e.EFF(4,"Atr\xe1s"),e.k0s(),e.j41(5,"button",17),e.bIt("click",function(){e.eBV(n);const i=e.XpG(2);return e.Njj(i.cancelAppointment())}),e.EFF(6,"Cancelar"),e.k0s()(),e.j41(7,"button",18),e.bIt("click",function(){e.eBV(n);const i=e.XpG(2);return e.Njj(i.onScheduleAppointment())}),e.EFF(8,"Agendar"),e.k0s()()}if(2&o){const n=e.XpG(2);e.vxM(0,n.appointment.patient&&n.appointment.professional&&n.appointment.datetime?0:-1)}}function ct(o,a){if(1&o){const n=e.RV6();e.j41(0,"div",0)(1,"button",1),e.bIt("click",function(){e.eBV(n);const i=e.XpG();return e.Njj(i.cancelAppointment())}),e.nrm(2,"img",2),e.k0s(),e.j41(3,"p-stepper",3)(4,"p-stepperPanel",4),e.DNE(5,ot,1,0,"ng-template",5),e.k0s(),e.j41(6,"p-stepperPanel",6),e.DNE(7,at,8,2,"ng-template",5),e.k0s(),e.j41(8,"p-stepperPanel",7),e.DNE(9,st,9,1,"ng-template",5),e.k0s()()()}2&o&&(e.R7$(3),e.Y8G("activeStep",0)("linear",!0))}let pt=(()=>{var o;class a{constructor(t,i,r,c,b,T,k){this.authService=t,this.router=i,this._appointmentService=r,this.availableSlots=c,this._toastService=b,this._route=T,this.location=k,this.currentUser=null,this.searchTerm="",this.appointment={},this.isLoading=!1,this.requestAvailableSlots={},this.availableTimes=[]}ngOnInit(){this.authService.currentUser$.subscribe(t=>{t?this.currentUser=t:this.authService.getCurrentUser()})}getUserData(t){return{uid:t.uid,name:t.name,lastname:t.lastname,identification:t.identification,email:t.email,phoneNumber:t.phoneNumber}}onUserSelected(t){this.appointment.patient=t,this.requestAvailableSlots.location={lat:t.lat,lng:t.lng}}onProfessionalSelected(t){var i=this;return(0,h.A)(function*(){let r=new Date(Number(i._route.snapshot.params.date));r=new Date(r.setHours(0)),i.appointment.professional=t,i.requestAvailableSlots.professional={uid:t.uid},i.requestAvailableSlots.selectedDate=r.toISOString(),yield i.getAvailableSlots()})()}getAvailableSlots(){var t=this;return(0,h.A)(function*(){const i=yield t.availableSlots.getAvailableSlots(t.requestAvailableSlots);i.success?t.availableTimes=i.data.map(r=>({label:ze(r),value:r})):console.error("Error getting available slots",i.message)})()}onDateSelected(t){var i=this;return(0,h.A)(function*(){t=new Date(t).toISOString(),i.appointment.datetime=t,i.requestAvailableSlots.selectedDate=t,yield i.getAvailableSlots()})()}onScheduleAppointment(){const t=this.getUserData(this.appointment.patient),i=this.getUserData(this.appointment.professional),r={address:this.appointment.patient.address||"",lat:this.appointment.patient.lat||0,lng:this.appointment.patient.lng||0},{datetime:c,specialties:b}=this.appointment;this._appointmentService.createAppointment({datetime:c,specialties:b,patient:t,professional:i,location:r}).then(k=>{k.success?(this.appointment={},this._toastService.showSuccess("Su cita ha sido agendada correctamente"),this.location.back()):(this._toastService.showError("Se ha producido un error al crear la cita"),console.error("Error creating appointment",k.message))})}cancelAppointment(){this.location.back()}ngOnDestroy(){}isEventValid(){return!0}}return(o=a).\u0275fac=function(t){return new(t||o)(e.rXU(J.u),e.rXU(N.Ix),e.rXU(We.h),e.rXU(tt),e.rXU(nt.f),e.rXU(N.nX),e.rXU(C.aZ))},o.\u0275cmp=e.VBU({type:o,selectors:[["app-new-event"]],standalone:!0,features:[e.aNF],decls:2,vars:1,consts:[[1,"container"],[1,"back-cancel",3,"click"],["src","/assets/icon/arrow_back.svg","alt","back"],["orientation","vertical",3,"activeStep","linear"],["header","Informaci\xf3n del paciente"],["pTemplate","content"],["header","Informaci\xf3n de la cita"],["header","Confirmaci\xf3n"],[3,"next","user"],[3,"selectedUser"],[3,"specialties"],[3,"dateSelected","availableTimes"],[1,"actions"],[1,"back",3,"click"],[1,"next",3,"click","disabled"],[3,"appointment"],[1,"cancelBack"],[1,"cancel",3,"click"],[1,"schedule",3,"click"],[3,"back","appointment"]],template:function(t,i){1&t&&e.DNE(0,it,1,0,"app-spinner")(1,ct,10,2),2&t&&e.vxM(0,i.isLoading?0:1)},dependencies:[be,Ae,we,he,fe,$,O.Ei,u.tm,Je,xe,H.t],styles:["[_nghost-%COMP%]     .p-stepper-separator{margin:0 0 0 20px}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:3rem auto;width:60%;height:calc(100vh - 10rem)}.container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;gap:1rem;width:91%;margin-left:2rem}.container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]{flex:1;background-color:var(--white);color:var(--dark-blue);border:1px solid var(--dark-blue)}.container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .next[_ngcontent-%COMP%]{flex:1;background-color:var(--dark-blue);color:var(--white)}.container[_ngcontent-%COMP%]   .back-cancel[_ngcontent-%COMP%]{flex:0;margin-left:.5rem;padding:.5rem;border-radius:2rem;background-color:var(--white);color:var(--dark-blue);border:1px solid var(--dark-blue);width:2rem;position:sticky}.container[_ngcontent-%COMP%]   .actions.step-1[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end;width:91%}.container[_ngcontent-%COMP%]   .actions.step-1[_ngcontent-%COMP%]   .next[_ngcontent-%COMP%]{flex:none;width:50%}.container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;gap:1rem;width:90%}.container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:1rem;border:none;cursor:pointer}.container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .cancelBack[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:1rem;width:70%}.container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .cancelBack[_ngcontent-%COMP%]   .back-final[_ngcontent-%COMP%]{flex:1;background-color:var(--white);color:var(--dark-blue);border:1px solid var(--dark-blue)}.container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .cancelBack[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]{flex:1;border:1px solid var(--error-red);color:var(--error-red)}.container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .schedule[_ngcontent-%COMP%]{width:30%;background-color:var(--dark-blue);color:var(--white)}@media screen and (max-width: 768px){.container[_ngcontent-%COMP%]{position:relative;font-size:.875rem!important;overflow-y:auto;margin:0;width:100%}.container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{margin:0;flex-direction:column;gap:1rem;margin-top:2rem}.container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .cancelBack[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;width:100%;gap:1rem}.container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .schedule[_ngcontent-%COMP%]{position:relative;width:100%}}"]}),a})()},3423:(D,E,m)=>{m.d(E,{I:()=>O});let e=(v=21)=>{let f="",P=crypto.getRandomValues(new Uint8Array(v));for(;v--;)f+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[63&P[v]];return f};function O(){return e(26)}}}]);
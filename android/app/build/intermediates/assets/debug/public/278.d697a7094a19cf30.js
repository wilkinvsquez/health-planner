"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[278],{6278:(G,b,d)=>{d.r(b),d.d(b,{AUTH_ROUTES:()=>N});var f=d(9228),h=d(177),t=d(4438);const y=()=>["/auth/login"];function F(o,i){1&o&&t.nrm(0,"img",19)}function _(o,i){1&o&&t.nrm(0,"img",20)}let w=(()=>{var o;class i{constructor(){this.passwordFieldType="password"}ngOnInit(){}togglePasswordVisibility(){this.passwordFieldType="password"===this.passwordFieldType?"text":"password"}}return(o=i).\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.VBU({type:o,selectors:[["app-login-form"]],standalone:!0,features:[t.aNF],decls:27,vars:5,consts:[[1,"form-container"],[1,"form"],[1,"mb-4"],["id","email","type","text","placeholder","Correo Electr\xf3nico",1,"shadow","border","py-2","px-3","leading-tight","inputLay"],[1,"relative","mb-2"],["id","password","type","password","placeholder","******************",1,"shadow","py-2","px-3","leading-tight","inputLay",3,"type"],["type","button",1,"absolute","inset-y-0","right-0","px-3","flex","items-center",3,"click"],["src"," /assets/icon/eye-closed.svg","alt","eye","class","h-6 w-6",4,"ngIf"],["src","/assets/icon/eye-open.svg","alt","Hide Password","class","h-6 w-6",4,"ngIf"],[1,"block"],[1,"flex","justify-end","mt-1","mb-8","cursor-pointer","text-gray"],["type","button",1,"shadow","border","py-2","px-3","leading-tight","focus:outline-none","focus:shadow-outline","buttonLay"],[1,"newAccount","w-full","mt-10","inline-flex","justify-center","text-gray"],["routerLinkActive","router-link-active",1,"underline",3,"routerLink"],[1,"google","block"],["for","SignWith",1,"flex","mt-5","justify-center","text-gray","custom-label"],[1,"google-button"],["src","/assets/icon/googleIcon.svg","alt","Google",1,"google-icon"],[1,"button-text"],["src"," /assets/icon/eye-closed.svg","alt","eye",1,"h-6","w-6"],["src","/assets/icon/eye-open.svg","alt","Hide Password",1,"h-6","w-6"]],template:function(e,n){1&e&&(t.j41(0,"div",0)(1,"form",1)(2,"div",2),t.nrm(3,"input",3),t.k0s(),t.j41(4,"div",4),t.nrm(5,"input",5),t.j41(6,"button",6),t.bIt("click",function(){return n.togglePasswordVisibility()}),t.DNE(7,F,1,0,"img",7)(8,_,1,0,"img",8),t.k0s()(),t.j41(9,"div",9)(10,"a",10),t.EFF(11," Forgot Password? "),t.k0s(),t.j41(12,"button",11),t.EFF(13," Sign In "),t.k0s(),t.j41(14,"div",12)(15,"p")(16,"span"),t.EFF(17,"A\xfan no tienes cuenta?"),t.k0s(),t.j41(18,"a",13),t.EFF(19,"Registrese aqu\xed"),t.k0s()()(),t.j41(20,"div",14)(21,"label",15),t.EFF(22,"O inicie sesi\xf3n con"),t.k0s(),t.j41(23,"button",16),t.nrm(24,"img",17),t.j41(25,"span",18),t.EFF(26,"Google"),t.k0s()()()()()()),2&e&&(t.R7$(5),t.Y8G("type",n.passwordFieldType),t.R7$(2),t.Y8G("ngIf","password"===n.passwordFieldType),t.R7$(),t.Y8G("ngIf","text"===n.passwordFieldType),t.R7$(10),t.Y8G("routerLink",t.lJ4(4,y)))},dependencies:[f.Wk,h.MD,h.bT],styles:['form[_ngcontent-%COMP%]{width:80%}form.form[_ngcontent-%COMP%]{width:75%;padding:2.5rem 0rem;margin-bottom:1rem}.form-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:justify-center;flex-direction:column;align-items:center}.inputLay[_ngcontent-%COMP%]{width:100%;border-radius:2rem;color:var(--dark-gray);padding-right:2.5rem;transition:border-color .3s}.inputLay[_ngcontent-%COMP%]:focus{border:solid .1rem var(--dark-blue)!important}.buttonLay[_ngcontent-%COMP%]{width:100%;border-radius:2rem;color:var(--white);background-color:var(--dark-blue)}.text-gray[_ngcontent-%COMP%]{color:var(--dark-gray)}.custom-label[_ngcontent-%COMP%]{position:relative;padding:0 10px}.custom-label[_ngcontent-%COMP%]:before, .custom-label[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;width:calc(50% - 5rem);height:1px;background-color:var(--dark-gray)}.custom-label[_ngcontent-%COMP%]:before{left:0}.custom-label[_ngcontent-%COMP%]:after{right:0}.google-button[_ngcontent-%COMP%]{display:flex;width:100%;align-items:center;justify-content:center;padding:10px;border:1px solid #ccc;border-radius:1.875rem;background-color:#fff;cursor:pointer;margin-top:1rem}.google-icon[_ngcontent-%COMP%]{width:24px;height:auto;margin-right:1rem}.button-text[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:#3c4043}@media screen and (max-width: 1150px){form.form[_ngcontent-%COMP%]{padding:0rem;margin-bottom:1rem}.newAccount[_ngcontent-%COMP%]{display:none}}']}),i})();var u=d(467),r=d(6403),k=d(5312);let x=(()=>{var o;class i{constructor(){this.firestore=(0,t.WQX)(r._7),this.NAME_COLLECTION=k.c.colletionName.users}getUsers(){var e=this;return(0,u.A)(function*(){return(yield(0,r.GG)((0,r.rJ)(e.firestore,e.NAME_COLLECTION))).docs.map(s=>s.data())})()}getUserById(e){var n=this;return(0,u.A)(function*(){var s;return null===(s=(yield(0,r.GG)((0,r.rJ)(n.firestore,n.NAME_COLLECTION))).docs.find(g=>g.id===e))||void 0===s?void 0:s.data()})()}getUserByCRId(e){var n=this;return(0,u.A)(function*(){return(yield(0,r.GG)((0,r.P)((0,r.rJ)(n.firestore,n.NAME_COLLECTION),(0,r._M)("arreglo","==",e)))).docs.map(l=>l.data())})()}updateUser(e,n){var s=this;return(0,u.A)(function*(){const g=(yield(0,r.GG)((0,r.P)((0,r.rJ)(s.firestore,s.NAME_COLLECTION),(0,r._M)("identification","==",e)))).docs[0].ref;return yield(0,r.mZ)(g,n).then(()=>n)})()}deleteUser(e){var n=this;return(0,u.A)(function*(){const l=(yield(0,r.GG)((0,r.P)((0,r.rJ)(n.firestore,n.NAME_COLLECTION),(0,r._M)("identification","==",e)))).docs[0].ref;return yield(0,r.kd)(l)})()}getUsersByListUID(e){var n=this;return(0,u.A)(function*(){return(yield(0,r.GG)((0,r.rJ)(n.firestore,n.NAME_COLLECTION))).docs.filter(m=>m.data().userRelations.some(v=>v.uid===e)).map(m=>m.data())})()}searchUsers(e){var n=this;return(0,u.A)(function*(){return(yield(0,r.GG)((0,r.rJ)(n.firestore,n.NAME_COLLECTION))).docs.filter(m=>{const p=m.data();for(const v in p)if(p[v]&&p[v].toString().toLowerCase().includes(e.toLowerCase()))return!0;return!1}).map(m=>m.data())})()}}return(o=i).\u0275fac=function(e){return new(e||o)},o.\u0275prov=t.jDH({token:o,factory:o.\u0275fac,providedIn:"root"}),i})();const O=()=>["/auth/register"];let P=(()=>{var o;class i{constructor(e){this._userService=e}ngOnInit(){}}return(o=i).\u0275fac=function(e){return new(e||o)(t.rXU(x))},o.\u0275cmp=t.VBU({type:o,selectors:[["app-login"]],standalone:!0,features:[t.aNF],decls:16,vars:2,consts:[[1,"login-page"],[1,"first-section"],[1,"title"],["src","/assets/icon/loginImage.svg","alt","loginImg","srcset","",1,"img"],[1,"second-section"],[1,"tabs"],[1,"tab","active"],[1,"tab",3,"routerLink"],[1,"frontCard"],[1,"flex","pt-10"],[1,"text-dark-blue","card-title","mt-5"]],template:function(e,n){1&e&&(t.j41(0,"div",0)(1,"div",1)(2,"h1",2),t.EFF(3,"HealthPlanner"),t.k0s(),t.nrm(4,"img",3),t.k0s(),t.j41(5,"div",4)(6,"div",5)(7,"button",6),t.EFF(8,"Inicio de sesi\xf3n"),t.k0s(),t.j41(9,"button",7),t.EFF(10," Registro "),t.k0s()(),t.j41(11,"div",8)(12,"div",9)(13,"h2",10),t.EFF(14,"Inicio de sesi\xf3n"),t.k0s()(),t.nrm(15,"app-login-form"),t.k0s()()()),2&e&&(t.R7$(9),t.Y8G("routerLink",t.lJ4(1,O)))},dependencies:[f.Wk,w],styles:['@charset "UTF-8";.login-page[_ngcontent-%COMP%]{display:flex;width:100%;height:100vh}.card-title[_ngcontent-%COMP%]{display:block}.first-section[_ngcontent-%COMP%]{display:flex;justify-content:end;align-items:center;height:100vh;width:100%}.second-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;height:100vh;width:100%}.title[_ngcontent-%COMP%]{position:fixed;font-family:Merriweather Sans,sans-serif;font-weight:700;font-size:2.5rem;top:7%;left:7%;color:var(--dark-blue)}.img[_ngcontent-%COMP%]{width:75%;height:75%}.text-dark-blue[_ngcontent-%COMP%]{color:var(--dark-blue)}.backCard[_ngcontent-%COMP%]{background-color:var(--dark-blue);width:24%;height:70%;top:8rem;left:60%;position:absolute;border-radius:1.5rem}.frontCard[_ngcontent-%COMP%]{background-color:var(--light-blue);position:absolute;border-radius:1.5rem;width:24%;height:70%;min-width:25rem;max-width:31rem;top:5rem;left:63%;box-shadow:0 4px 8px #0000001a}.frontCard[_ngcontent-%COMP%]:before{content:"";position:absolute;background-color:var(--dark-blue);border-radius:1.5rem;width:100%;height:100%;top:40px;left:-40px;z-index:-1;box-shadow:0 4px 8px #0000001a}.tabs[_ngcontent-%COMP%]{display:none}@media screen and (max-width: 1150px){.login-page[_ngcontent-%COMP%]{flex-direction:column;align-items:center;overflow:auto}.first-section[_ngcontent-%COMP%]{display:block;height:45%;width:100%;padding-top:4rem}.title[_ngcontent-%COMP%]{display:flex;width:100%;top:2rem;left:0;justify-content:center}.img[_ngcontent-%COMP%]{width:100%;height:100%}.second-section[_ngcontent-%COMP%]{display:block}.frontCard[_ngcontent-%COMP%]{position:relative;width:100%;background-color:var(--white);border-radius:0;top:0;left:0;box-shadow:none;margin:auto}.frontCard[_ngcontent-%COMP%]:before{display:none}.card-title[_ngcontent-%COMP%]{display:none}.tabs[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:20px}.tab[_ngcontent-%COMP%]{padding:10px 20px;margin:0 5px;border:none;border-bottom:2px solid transparent;cursor:pointer;transition:border-color .3s,background-color .3s;font-size:16px;position:relative;color:var(--dark-gray)}.tab[_ngcontent-%COMP%]:hover{background-color:#ddd}.tab.active[_ngcontent-%COMP%]{border-bottom:2px solid #007bff;border-bottom:2px solid var(--dark-blue);background-color:#fff;color:var(--dark-blue)}}@media screen and (max-width: 768px){.first-section[_ngcontent-%COMP%]{display:block;width:100%}.title[_ngcontent-%COMP%]{display:flex;width:100%;left:0;justify-content:center}.img[_ngcontent-%COMP%]{width:100%;height:100%}}']}),i})();var a=d(4341);const M=()=>["/auth/login"];function L(o,i){1&o&&(t.j41(0,"p"),t.EFF(1,"The name is required"),t.k0s())}function E(o,i){1&o&&(t.j41(0,"p"),t.EFF(1,"The lastname is required"),t.k0s())}function j(o,i){1&o&&(t.j41(0,"p"),t.EFF(1,"Invalid Email"),t.k0s())}function R(o,i){1&o&&(t.j41(0,"p"),t.EFF(1,"The passwords doesnt match"),t.k0s())}let T=(()=>{var o;class i{constructor(e){this._fb=e,this.registrationData=new t.bkB,this.isSubmitted=!1,this.registrationForm=this._fb.group({name:["Wilkin",a.k0.required],lastname:["Vasquez",a.k0.required],email:["wilkinvsquez@gmail.com",[a.k0.required,a.k0.email]],password:["123123",[a.k0.required,a.k0.minLength(6)]],confirmPassword:["123123",a.k0.required]})}isFieldValid(e){var n;return(null===(n=this.registrationForm.get(e))||void 0===n?void 0:n.invalid)&&this.isSubmitted}passwordsMatch(){var e,n;return(null===(e=this.registrationForm.get("password"))||void 0===e?void 0:e.value)!==(null===(n=this.registrationForm.get("confirmPassword"))||void 0===n?void 0:n.value)}onSubmit(){this.isSubmitted=!0;const{name:e,lastname:n,email:s,password:l}=this.registrationForm.value;this.registrationData.emit({name:e,lastname:n,email:s,password:l,userRelations:[{uid:'"0SxSNOxYBtRsL5RPb67MQYzm7W32"'}],role:"user",active:!0})}}return(o=i).\u0275fac=function(e){return new(e||o)(t.rXU(a.ok))},o.\u0275cmp=t.VBU({type:o,selectors:[["app-registration-form"]],outputs:{registrationData:"registrationData"},standalone:!0,features:[t.aNF],decls:36,vars:8,consts:[[3,"submit","formGroup"],["for","name"],["type","text","id","name","name","name","placeholder","First Name","formControlName","name"],["for","email"],["type","text","id","lastname","name","lastname","placeholder","Lastname","formControlName","lastname"],["type","email","id","email","name","email","placeholder","Email","formControlName","email"],["for","password"],["type","password","id","password","name","password","placeholder","Password","formControlName","password"],["for","confirmPassword"],["type","password","id","confirmPassword","name","confirmPassword","placeholder","Confirm Password","formControlName","confirmPassword"],[1,"errorContainer"],[4,"ngIf"],["type","submit",3,"disabled"],["routerLinkActive","router-link-active",3,"routerLink"]],template:function(e,n){1&e&&(t.j41(0,"div")(1,"form",0),t.bIt("submit",function(){return n.onSubmit()}),t.j41(2,"h1"),t.EFF(3,"Registration"),t.k0s(),t.j41(4,"div")(5,"label",1),t.EFF(6,"Name"),t.k0s(),t.nrm(7,"input",2),t.k0s(),t.j41(8,"div")(9,"label",3),t.EFF(10,"Lastname"),t.k0s(),t.nrm(11,"input",4),t.k0s(),t.j41(12,"div")(13,"label",3),t.EFF(14,"Email"),t.k0s(),t.nrm(15,"input",5),t.k0s(),t.j41(16,"div")(17,"label",6),t.EFF(18,"Password"),t.k0s(),t.nrm(19,"input",7),t.k0s(),t.j41(20,"div")(21,"label",8),t.EFF(22,"Confirm Password"),t.k0s(),t.nrm(23,"input",9),t.k0s(),t.j41(24,"div",10),t.DNE(25,L,2,0,"p",11)(26,E,2,0,"p",11)(27,j,2,0,"p",11)(28,R,2,0,"p",11),t.k0s(),t.j41(29,"div")(30,"button",12),t.EFF(31,"Register"),t.k0s()(),t.j41(32,"div")(33,"nav")(34,"a",13),t.EFF(35,"Already have an account? Sign In"),t.k0s()()()()()),2&e&&(t.R7$(),t.Y8G("formGroup",n.registrationForm),t.R7$(24),t.Y8G("ngIf",n.isFieldValid("name")),t.R7$(),t.Y8G("ngIf",n.isFieldValid("lastname")),t.R7$(),t.Y8G("ngIf",n.isFieldValid("email")),t.R7$(),t.Y8G("ngIf",n.passwordsMatch()),t.R7$(2),t.Y8G("disabled",n.registrationForm.invalid),t.R7$(4),t.Y8G("routerLink",t.lJ4(7,M)))},dependencies:[f.Wk,a.X1,a.qT,a.me,a.BC,a.cb,a.j4,a.JD,h.MD,h.bT]}),i})();var C=d(4603);let I=(()=>{var o;class i{constructor(){this.auth=(0,t.WQX)(C.Nj),this.firestore=(0,t.WQX)(r._7)}register(e){var n=this;return(0,u.A)(function*(){return yield(0,C.eJ)(n.auth,e.email,e.password).then(function(){var s=(0,u.A)(function*(l){const g={...e,uid:l.user.uid},{password:m,...p}=g;return yield(0,r.gS)((0,r.rJ)(n.firestore,"users"),p),{message:"User registered successfully",user:p}});return function(l){return s.apply(this,arguments)}}()).catch(s=>({message:"Error registering user",error:s}))})()}}return(o=i).\u0275fac=function(e){return new(e||o)},o.\u0275prov=t.jDH({token:o,factory:o.\u0275fac,providedIn:"root"}),i})();const N=[{path:"login",component:P},{path:"register",component:(()=>{var o;class i{constructor(e,n){this._authService=e,this._router=n}onRegister(e){this._authService.register(e).then(n=>{n.error?console.log(n.error.code):(console.log(n),this._router.navigate(["/login"]))})}}return(o=i).\u0275fac=function(e){return new(e||o)(t.rXU(I),t.rXU(f.Ix))},o.\u0275cmp=t.VBU({type:o,selectors:[["app-registration"]],standalone:!0,features:[t.aNF],decls:2,vars:0,consts:[[1,"container"],[3,"registrationData"]],template:function(e,n){1&e&&(t.j41(0,"div",0)(1,"app-registration-form",1),t.bIt("registrationData",function(l){return n.onRegister(l)}),t.k0s()())},dependencies:[T],styles:[".container[_ngcontent-%COMP%]{display:inline-flex;justify-content:center;align-items:center;height:100vh}"]}),i})()},{path:"",redirectTo:"login",pathMatch:"full"}]}}]);